{"version":3,"file":"virgo.bundle.min.js","mappings":"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","sources":["webpack:///./src/components/carousel/carousel.js","webpack:///./src/components/gallery/gallery.js","webpack:///./src/components/map/map.js","webpack:///./src/components/modal/modal.js","webpack:///./src/components/rating/rating.js","webpack:///./src/components/slider/slider.js","webpack:///./src/components/stack/stack.js","webpack:///./src/components/tab/tab.js","webpack:///./src/components/tagger/tagger.js","webpack:///./src/bundle.js","webpack:///./src/components/accordion/accordion.js"],"sourcesContent":["// ================================================================================================\n// - Virgo Component\n// - Carousel\n// ================================================================================================\nexport default class Carousel {\n\n\t// [ Class static properties ] ================================================================\n\t// Stores all galleries on the page.\n\tstatic selector;\n\tstatic index;\n\tstatic externalIndicators;  // DOM element of external indicators\n\tstatic externalNavigations; // DOM element of external navigations\n\n\t// [ Object properties ] ======================================================================\n\telement;\t\t\t\t\t// The carousel DOM element\n\tid;\t\t\t\t\t\t\t// String of id for the carousel\n\tcols;\t\t\t\t\t\t// Number of columns in one carousel page\n\trows;\t\t\t\t\t\t// Number of rows in one carousel page\n\ttransition;\t\t\t\t\t// Carousel page transition [\"default\", \"slide\", \"fade\", \"none\"]\n\tduration;\t\t\t\t\t// Page transition duration in miliseconds\n\tmodal;\t\t\t\t\t\t// Custom modal id\n\tactivePageIndex;\t\t\t// Index of currently active carousel page\n\n\titems;\t\t\t\t\t\t// Stores all item DOM elements inside the carousel\n\tpages;\t\t\t\t\t\t// Stores all carousel pages\n\n\tpagesElement;\t\t\t\t// DOM element of carousel pages container\n\tcontrolElement;\t\t\t\t// DOM element of carousel control\n\tindicatorElement;\t\t\t// DOM element of carousel indicator\n\tnavigationElement;\t\t\t// DOM element of carousel navigation\n\n\tnavlock;\t\t\t\t\t// Navigation lock { true: prevent navigation event }\n\tscrollAmount;\t\t\t\t// The amount of scrolling applied to carousel\n\tisScrolling;\t\t\t\t// State of scrolling { true: carousel is being scrolled }\n\n\texternalIndicators;\t\t\t// Stores DOM elements of external indicators\n\texternalNavigations;\t\t// Stores DOM elements of external navigations\n\n\t// [ Computed properties ] ====================================================================\n\t// --------------------------------------------------------------------------------------------\n\t// • Get total pages inside the carousel\n\t// --------------------------------------------------------------------------------------------\n\tget totalPages()\t\t\t{ return Math.ceil(this.items.length / this.numPageItems) }\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Maximum items inside one carousel page\n\t// --------------------------------------------------------------------------------------------\n\tget numPageItems() { return this.cols * this.rows; }\n\n\t// [ Class static functions ] =================================================================\n\t// --------------------------------------------------------------------------------------------\n\t// • Initialize Component\n\t// --------------------------------------------------------------------------------------------\n\tstatic init() {\n\t\t// Initialize the value of static properties\n\t\tthis.selector = \".carousel\";\n\t\tthis.index = [];\n\t\tthis.externalIndicators = {};\n\t\tthis.externalNavigations = {};\n\t\t// Initialize the instances of this class\n\t\tlet carouselElements = document.querySelectorAll(this.selector);\n\t\tif (carouselElements.length > 0) {\n\t\t\tfor (let index = 0; index < carouselElements.length; index++) {\n\t\t\t\tconst carouselElement = carouselElements[index];\n\t\t\t\tthis.index.push(new this(index, carouselElement));\n\t\t\t}\n\t\t\t// Add window resize event listener\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tthis.resizeListener();\n\t\t\t});\n\t\t}\n\t\t// Initialize external controls of all class instances\n\t\tthis.initExternalIndicators();\n\t\tthis.initExternalNavigations();\n\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Window resize event listener\n\t// --------------------------------------------------------------------------------------------\n\tstatic resizeListener() {\n\t\tfor (const carousel of this.index) {\n\t\t\tcarousel.resize();\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Initialize external indicators of the component\n\t// --------------------------------------------------------------------------------------------\n\tstatic initExternalIndicators() {\n\t\tlet externalIndicators = document.querySelectorAll(\"[data-carousel-indicator]\");\n\t\tfor (const indicator of externalIndicators) {\n\t\t\tconst carouselId = indicator.dataset[\"carouselIndicator\"];\n\t\t\tconst carousel = this.index.find(carousel => carousel.id === carouselId);\n\n\t\t\tif (carousel) {\n\t\t\t\tif (!this.externalIndicators[carouselId]) this.externalIndicators[carouselId] = [];\n\t\t\t\tthis.externalIndicators[carouselId].push(indicator);\n\t\t\t\tcarousel.initExternalIndicators();\n\t\t\t}\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Initialize external navigations of the component\n\t// --------------------------------------------------------------------------------------------\n\tstatic initExternalNavigations() {\n\t\tlet externalNavigations = document.querySelectorAll(\"[data-carousel-navigation]\");\n\t\tfor (const navigation of externalNavigations) {\n\t\t\tconst carouselId = navigation.dataset[\"carouselNavigation\"];\n\t\t\tconst carousel = this.index.find(carousel => carousel.id === carouselId);\n\n\t\t\tif (carousel) {\n\t\t\t\tif (!this.externalNavigations[carouselId]) this.externalNavigations[carouselId] = [];\n\t\t\t\tthis.externalNavigations[carouselId].push(navigation);\n\n\t\t\t\t// Add event listeners\n\t\t\t\tlet prevButton = navigation.querySelector(`[data-navigation=\"prev\"]`);\n\t\t\t\tlet nextButton = navigation.querySelector(`[data-navigation=\"next\"]`);\n\t\t\t\tif (prevButton) {\n\t\t\t\t\tprevButton.addEventListener(\"click\", () => {\n\t\t\t\t\t\tcarousel.back();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (nextButton) {\n\t\t\t\t\tnextButton.addEventListener(\"click\", () => {\n\t\t\t\t\t\tcarousel.forward();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// [ Object instance functions ] ==============================================================\n\t// --------------------------------------------------------------------------------------------\n\t// • Constructor\n\t// --------------------------------------------------------------------------------------------\n\tconstructor (index, element) {\n\n\t\tthis.element = element;\n\t\t// ----- Set identifier\n\t\tthis.id = element.id ? element.id : `carousel-${index}`;\n\t\telement.id = this.id;\n\n\t\t// ----- Variable initializer\n\t\tthis.cols = element.dataset[\"cols\"] ? parseInt(element.dataset[\"cols\"]) : 1;\n\t\tthis.rows = element.dataset[\"rows\"] ? parseInt(element.dataset[\"rows\"]) : 1;\n\t\tthis.transition = element.dataset[\"transition\"] ? element.dataset[\"transition\"] : \"default\";\n\t\tthis.duration = element.dataset[\"duration\"] ? parseInt(element.dataset[\"duration\"]) : 500;\n\t\tthis.modal = element.dataset[\"modal\"] ? element.dataset[\"modal\"] : null;\n\t\tthis.activePageIndex = element.dataset[\"active\"] ? parseInt(element.dataset[\"active\"]) : 0;\n\t\tthis.items = element.querySelectorAll(\".item\");\n\t\tthis.pages = [];\n\t\tthis.navlock = false;\n\t\tthis.scrollAmount = 0;\n\n\t\tthis.resize();\n\t\tthis.initEventListeners();\n\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create carousel pages and organize items into pages\n\t// --------------------------------------------------------------------------------------------\n\tinitPages () {\n\n\t\t// - Create page elements\n\t\tif (!this.pagesElement) {\n\t\t\tthis.pagesElement = document.createElement(\"div\");\n\t\t\tthis.pagesElement.classList.add(\"pages\");\n\t\t\tthis.element.appendChild(this.pagesElement);\n\t\t}\n\n\t\tthis.pages = [];\n\t\tthis.pagesElement.innerHTML = \"\";\n\n\t\t// for (let pageIndex = 0; pageIndex < this.totalPages; pageIndex++) {\n\t\t// \tlet page = document.createElement(\"div\");\n\t\t// \tpage.classList.add(\"page\");\n\t\t// \tif (pageIndex === this.activePageIndex) page.classList.add(\"active\");\n\t\t// \tthis.pagesElement.appendChild(page);\n\t\t// \tthis.pages.push(page);\n\t\t// }\n\n\t\t// - Process items inside pages\n\t\tlet pageNum = 0;\n\t\tlet pageColSpan = 0;\n\t\tfor (let itemIndex = 0; itemIndex < this.items.length; itemIndex++) {\n\t\t\tlet item = this.items[itemIndex];\n\n\t\t\t// Item col and row span\n\t\t\tlet colspan = item.dataset[\"colspan\"] ? parseInt(item.dataset[\"colspan\"]) : 1;\n\t\t\tlet rowspan = item.dataset[\"rowspan\"] ? parseInt(item.dataset[\"rowspan\"]) : 1;\n\n\t\t\tif (colspan > this.cols) {\n\t\t\t\tcolspan = this.cols;\n\t\t\t}\n\n\t\t\t// Move item to designated page\n\t\t\tif (pageColSpan + colspan > this.cols) {\n\t\t\t\tpageNum++;\n\t\t\t\tpageColSpan = colspan;\n\t\t\t} else {\n\t\t\t\tpageColSpan = pageColSpan + colspan;\n\t\t\t}\n\n\t\t\tif (!this.pages[pageNum]) {\n\t\t\t\tlet page = document.createElement(\"div\");\n\t\t\t\tpage.classList.add(\"page\");\n\t\t\t\tif (pageNum === this.activePageIndex) page.classList.add(\"active\");\n\t\t\t\tthis.pagesElement.appendChild(page);\n\t\t\t\tthis.pages.push(page);\n\t\t\t}\n\t\t\tthis.pages[pageNum].appendChild(item);\n\n\n\t\t\t// Adjust item size\n\t\t\titem.style.width = `${colspan / this.cols * 100}%`;\n\t\t\titem.style.height = `${rowspan / this.rows * 100}%`;\n\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create container element for indicator and navigation\n\t// --------------------------------------------------------------------------------------------\n\tinitControlElement() {\n\t\t// - Control element\n\t\tif (!this.controlElement) {\n\t\t\tthis.controlElement = document.createElement(\"div\");\n\t\t\tthis.controlElement.classList.add(\"control\");\n\t\t\tthis.element.appendChild(this.controlElement);\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create indicator container and button elements\n\t// --------------------------------------------------------------------------------------------\n\tinitIndicator () {\n\t\t// - Indicator element\n\t\tif (!this.indicatorElement) {\n\t\t\tthis.indicatorElement = document.createElement(\"div\");\n\t\t\tthis.indicatorElement.classList.add(\"indicator\");\n\t\t\tthis.controlElement.appendChild(this.indicatorElement);\n\t\t}\n\t\tthis.indicatorElement.innerHTML = \"\";\n\n\t\tfor (let pageIndex = 0; pageIndex < this.totalPages; pageIndex++) {\n\t\t\tlet indicatorButton = document.createElement(\"button\");\n\t\t\tindicatorButton.dataset[\"target\"] = pageIndex;\n\t\t\tif (pageIndex === this.activePageIndex) indicatorButton.classList.add(\"active\");\n\t\t\tthis.indicatorElement.appendChild(indicatorButton);\n\t\t\tindicatorButton.addEventListener(\"click\", () => {\n\t\t\t\tthis.setActivePage(pageIndex);\n\t\t\t});\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create buttons for every external indicators\n\t// --------------------------------------------------------------------------------------------\n\tinitExternalIndicators () {\n\t\t// - Indicator element\n\t\tif (Carousel.externalIndicators[this.id]) {\n\t\t\tfor (let indicatorElement of Carousel.externalIndicators[this.id]) {\n\t\t\t\tindicatorElement.innerHTML = \"\";\n\t\t\t\tfor (let pageIndex = 0; pageIndex < this.totalPages; pageIndex++) {\n\t\t\t\t\tlet indicatorButton = document.createElement(\"button\");\n\t\t\t\t\tindicatorButton.dataset[\"target\"] = pageIndex;\n\t\t\t\t\tif (pageIndex === this.activePageIndex) indicatorButton.classList.add(\"active\");\n\t\t\t\t\tindicatorElement.appendChild(indicatorButton);\n\t\t\t\t\tindicatorButton.addEventListener(\"click\", () => {\n\t\t\t\t\t\tthis.setActivePage(pageIndex);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create navigation elements\n\t// --------------------------------------------------------------------------------------------\n\tinitNavigation () {\n\t\t// - Navigation element\n\t\tif (!this.navigationElement) {\n\t\t\tthis.navigationElement = document.createElement(\"div\");\n\t\t\tthis.navigationElement.classList.add(\"navigation\");\n\t\t\tthis.controlElement.appendChild(this.navigationElement);\n\t\t}\n\t\tthis.navigationElement.innerHTML = \"\";\n\n\t\tlet prevButton = document.createElement(\"button\");\n\t\tprevButton.classList.add(\"prev\");\n\t\tthis.navigationElement.appendChild(prevButton);\n\t\tprevButton.addEventListener(\"click\", () => {\n\t\t\tthis.back();\n\t\t});\n\n\t\tlet nextButton = document.createElement(\"button\");\n\t\tnextButton.classList.add(\"next\");\n\t\tnextButton.addEventListener(\"click\", () => {\n\t\t\tthis.forward();\n\t\t});\n\t\tthis.navigationElement.appendChild(nextButton);\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Add event listener to the element\n\t// --------------------------------------------------------------------------------------------\n\tinitEventListeners () {\n\t\t// - Scroll event\n\t\tthis.element.addEventListener(\"wheel\", (event) => {\n\t\t\tif (Math.abs(event.deltaX) > 0) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.scroll(event.deltaX);\n\t\t\t}\n\t\t});\n\n\t\t// - Touch drag event\n\t\tthis.element.addEventListener(\"touchstart\", (event) => {\n\t\t\tlet startPos = event.touches[0].clientX;\n\n\t\t\tconst touchmove = (moveevent) => {\n\t\t\t\tconst delta = startPos - moveevent.touches[0].clientX;\n\t\t\t\tthis.scroll(delta);\n\t\t\t\tstartPos = moveevent.touches[0].clientX;\n\t\t\t}\n\n\t\t\tconst touchend = () => {\n\t\t\t\tthis.element.removeEventListener(\"touchmove\", touchmove);\n\t\t\t\tthis.element.removeEventListener(\"touchend\", touchend);\n\t\t\t}\n\n\t\t\tthis.element.addEventListener(\"touchmove\", touchmove);\n\t\t\tthis.element.addEventListener(\"touchend\", touchend);\n\t\t});\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Update element's UI and functionalities\n\t// --------------------------------------------------------------------------------------------\n\tresize () {\n\t\t// ----- Smaller screen\n\t\tif (this.element.getBoundingClientRect().width <= 450) {\n\t\t\tthis.cols = Math.min(this.cols, 1);\n\t\t} else {\n\t\t\tthis.cols = this.element.dataset[\"cols\"] ? parseInt(this.element.dataset[\"cols\"]) : 1;\n\t\t}\n\n\t\tif (this.activePageIndex >= this.totalPages) this.activePageIndex = this.totalPages - 1;\n\n\t\t// ----- Prepare element\n\t\tif (this.items.length > 0) {\n\n\t\t\tthis.initPages();\n\t\t\tthis.initControlElement();\n\t\t\tthis.initIndicator();\n\t\t\tthis.initNavigation();\n\n\t\t\tthis.initExternalIndicators();\n\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Navigate to a page\n\t// --------------------------------------------------------------------------------------------\n\tsetActivePage (index, direction = null) {\n\t\tif (!this.navlock) {\n\t\t\tlet currentPage = this.pages[this.activePageIndex];\n\t\t\tlet targetPage = this.pages[index];\n\t\t\tlet transitionDirection = direction ? direction : ((index - this.activePageIndex) / Math.abs(index - this.activePageIndex));\n\t\t\tif (!targetPage) return;\n\n\t\t\tthis.activePageIndex = index;\n\n\t\t\t// - Update\n\t\t\tthis.navlock = true;\n\t\t\tthis.updateIndicator();\n\t\t\tthis.updatePages(currentPage, targetPage, transitionDirection);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.navlock = false;\n\t\t\t}, this.duration + 500);\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Update indicator buttons to reflect current conditions\n\t// --------------------------------------------------------------------------------------------\n\tupdateIndicator () {\n\t\tif (this.indicatorElement) {\n\t\t\tlet buttons = this.indicatorElement.querySelectorAll(\"button\");\n\t\t\tfor (let buttonIndex = 0; buttonIndex < buttons.length; buttonIndex++) {\n\t\t\t\tlet button = buttons[buttonIndex];\n\t\t\t\tbutton.classList.remove(\"active\");\n\t\t\t\tif (buttonIndex === this.activePageIndex) button.classList.add(\"active\");\n\t\t\t}\n\t\t}\n\t\tif (Carousel.externalIndicators[this.id]) {\n\t\t\tfor (const indicatorElement of Carousel.externalIndicators[this.id]) {\n\t\t\t\tlet buttons = indicatorElement.querySelectorAll(\"button\");\n\t\t\t\tfor (let buttonIndex = 0; buttonIndex < buttons.length; buttonIndex++) {\n\t\t\t\t\tlet button = buttons[buttonIndex];\n\t\t\t\t\tbutton.classList.remove(\"active\");\n\t\t\t\t\tif (buttonIndex === this.activePageIndex) button.classList.add(\"active\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Page transition\n\t// --------------------------------------------------------------------------------------------\n\tupdatePages (fromPage, targetPage, direction = 1) {\n\t\tif (this.pages) {\n\t\t\t// - Transition\n\t\t\tif (this.transition !== \"none\") {\n\n\t\t\t\t// - Slide / Default\n\t\t\t\tif (this.transition === \"slide\" || this.transition === \"default\") {\n\t\t\t\t\tif (fromPage.style.transform === \"\") {\n\t\t\t\t\t\tfromPage.style.transform = `translate3d(0, 0, 0)`;\n\t\t\t\t\t}\n\t\t\t\t\tif (targetPage.style.transform === \"\") {\n\t\t\t\t\t\ttargetPage.style.transform = `translate3d(${direction * 100}%, 0, 0)`;\n\t\t\t\t\t}\n\t\t\t\t\t// Transition\n\t\t\t\t\tfromPage.animate(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{ transform: fromPage.style.transform },\n\t\t\t\t\t\t\t{ transform: `translate3d(${direction * -100}%, 0, 0)` },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\teasing: \"ease-out\"\n\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\ttargetPage.animate(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{ transform: targetPage.style.transform },\n\t\t\t\t\t\t\t{ transform: `translate3d(0, 0, 0)` },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\teasing: \"ease-out\"\n\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tfromPage.style.transform = ``;\n\t\t\t\t\t\ttargetPage.style.transform = `translate3d(0, 0, 0)`;\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// - Finalizing\n\t\t\tfor (let pageIndex = 0; pageIndex < this.pages.length; pageIndex++) {\n\t\t\t\tlet page = this.pages[pageIndex];\n\t\t\t\tpage.classList.remove(\"active\");\n\t\t\t\tif (pageIndex === this.activePageIndex) page.classList.add(\"active\");\n\t\t\t}\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Navigate to previous page\n\t// --------------------------------------------------------------------------------------------\n\tback() {\n\t\tlet targetIndex = this.activePageIndex - 1;\n\t\tif (targetIndex < 0) {\n\t\t\ttargetIndex = this.totalPages - 1;\n\t\t}\n\t\tthis.setActivePage(targetIndex, -1);\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Navigate to next page\n\t// --------------------------------------------------------------------------------------------\n\tforward () {\n\t\tlet targetIndex = this.activePageIndex + 1;\n\t\tif (targetIndex >= this.totalPages) {\n\t\t\ttargetIndex = 0;\n\t\t}\n\t\tthis.setActivePage(targetIndex, 1);\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Update UI to respond scrolling and dragging events\n\t// --------------------------------------------------------------------------------------------\n\tscroll (amount) {\n\t\tconst elementWidth = this.element.getBoundingClientRect().width;\n\t\tif (!this.navlock) {\n\t\t\tif (this.isScrolling) window.clearTimeout(this.isScrolling);\n\t\t\tthis.scrollAmount -= amount;\n\t\t\tif (Math.abs(this.scrollAmount) > elementWidth) {\n\t\t\t\tthis.scrollAmount = Math.sign(this.scrollAmount) * elementWidth;\n\t\t\t}\n\t\t\tlet currentPage = this.pages[this.activePageIndex];\n\t\t\tlet nextPage;\n\t\t\tif (amount > 0) {\n\t\t\t\tif (this.activePageIndex + 1 < this.pages.length) {\n\t\t\t\t\tnextPage = this.pages[this.activePageIndex + 1];\n\t\t\t\t} else {\n\t\t\t\t\tnextPage = this.pages[0];\n\t\t\t\t}\n\t\t\t\tnextPage.style.transform = `translate3d(calc(100% + ${this.scrollAmount}px), 0, 0)`;\n\t\t\t} else {\n\t\t\t\tif (this.activePageIndex - 1 < 0) {\n\t\t\t\t\tnextPage = this.pages[this.pages.length - 1];\n\t\t\t\t} else {\n\t\t\t\t\tnextPage = this.pages[this.activePageIndex - 1];\n\t\t\t\t}\n\t\t\t\tnextPage.style.transform = `translate3d(calc(${this.scrollAmount}px - 100%), 0, 0)`;\n\t\t\t}\n\n\t\t\tcurrentPage.style.transform = `translate3d(${this.scrollAmount}px, 0, 0)`;\n\n\t\t\tthis.isScrolling = setTimeout(() => {\n\t\t\t\tthis.navlock = true;\n\t\t\t\t// Navigate forward\n\t\t\t\tif (this.scrollAmount <= -(0.3 * elementWidth)) {\n\t\t\t\t\tthis.navlock = false;\n\t\t\t\t\tthis.forward();\n\t\t\t\t}\n\t\t\t\t// Return to backward\n\t\t\t\telse if (this.scrollAmount >= (0.3 * elementWidth)) {\n\t\t\t\t\tthis.navlock = false;\n\t\t\t\t\tthis.back();\n\t\t\t\t}\n\t\t\t\t// Do not navigate\n\t\t\t\telse {\n\t\t\t\t\tcurrentPage.animate([\n\t\t\t\t\t\t{ transform: currentPage.style.transform },\n\t\t\t\t\t\t{ transform: `translate3d(0, 0, 0)` },\n\t\t\t\t\t], {\n\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\teasing: \"ease-out\"\n\t\t\t\t\t});\n\t\t\t\t\tcurrentPage.style.transform = `translate3d(0, 0, 0)`;\n\t\t\t\t\tif (amount > 0) {\n\t\t\t\t\t\tnextPage.animate([\n\t\t\t\t\t\t\t{ transform: nextPage.style.transform },\n\t\t\t\t\t\t\t{ transform: `translate3d(100%, 0, 0)` },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\t\teasing: \"ease-out\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnextPage.style.transform = ``;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextPage.animate([\n\t\t\t\t\t\t\t{ transform: nextPage.style.transform },\n\t\t\t\t\t\t\t{ transform: `translate3d(-100%, 0, 0)` },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\t\teasing: \"ease-out\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnextPage.style.transform = ``;\n\t\t\t\t\t}\n\t\t\t\t\tthis.navlock = false;\n\t\t\t\t}\n\t\t\t\tthis.scrollAmount = 0;\n\t\t\t}, 50);\n\t\t}\n\t}\n}\n\n// Make this class globally available\nif (window) window[\"Carousel\"] = Carousel;\n","// ================================================================================================\n// - Virgo Component\n// - Gallery\n// ================================================================================================\nexport default class Gallery {\n\n\t// [ Class static properties ] ================================================================\n\t// Stores all galleries on the page.\n\tstatic selector;\n\tstatic index;\n\tstatic externalIndicators;  // DOM element of external indicators\n\tstatic externalNavigations; // DOM element of external navigations\n\n\t// [ Object properties ] ======================================================================\n\telement;\t\t\t\t\t// The gallery DOM element\n\tid;\t\t\t\t\t\t\t// String of id for the gallery\n\tcols;\t\t\t\t\t\t// Number of columns in one gallery page\n\trows;\t\t\t\t\t\t// Number of rows in one gallery page\n\ttransition;\t\t\t\t\t// Gallery page transition [\"default\", \"slide\", \"fade\", \"none\"]\n\tduration;\t\t\t\t\t// Page transition duration in miliseconds\n\tmodal;\t\t\t\t\t\t// Custom modal id\n\tactivePageIndex;\t\t\t// Index of currently active gallery page\n\n\titems;\t\t\t\t\t\t// Stores all item DOM elements inside the gallery\n\tpages;\t\t\t\t\t\t// Stores all gallery pages\n\n\tpagesElement;\t\t\t\t// DOM element of gallery pages container\n\tcontrolElement;\t\t\t\t// DOM element of gallery control\n\tindicatorElement;\t\t\t// DOM element of gallery indicator\n\tnavigationElement;\t\t\t// DOM element of gallery navigation\n\n\tnavlock;\t\t\t\t\t// Navigation lock { true: prevent navigation event }\n\tscrollAmount;\t\t\t\t// The amount of scrolling applied to gallery\n\tisScrolling;\t\t\t\t// State of scrolling { true: gallery is being scrolled }\n\n\texternalIndicators;\t\t\t// Stores DOM elements of external indicators\n\texternalNavigations;\t\t// Stores DOM elements of external navigations\n\n\t// [ Computed properties ] ====================================================================\n\t// --------------------------------------------------------------------------------------------\n\t// • Get total pages inside the gallery\n\t// --------------------------------------------------------------------------------------------\n\tget totalPages()\t\t\t{ return Math.ceil(this.items.length / this.numPageItems) }\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Maximum items inside one gallery page\n\t// --------------------------------------------------------------------------------------------\n\tget numPageItems()\t\t\t{ return this.cols * this.rows; }\n\n\t// [ Class static functions ] =================================================================\n\t// --------------------------------------------------------------------------------------------\n\t// • Initialize Component\n\t// --------------------------------------------------------------------------------------------\n\tstatic init() {\n\t\t// Initialize the value of static properties\n\t\tthis.selector = \".gallery\";\n\t\tthis.index = [];\n\t\tthis.externalIndicators = {};\n\t\tthis.externalNavigations = {};\n\t\t// Initialize the instances of this class\n\t\tlet galleryElements = document.querySelectorAll(this.selector);\n\t\tconsole.log(galleryElements.length);\n\t\tif (galleryElements.length > 0) {\n\t\t\tfor (let index = 0; index < galleryElements.length; index++) {\n\t\t\t\tconst galleryElement = galleryElements[index];\n\t\t\t\tthis.index.push(new this(index, galleryElement));\n\t\t\t}\n\t\t\t// Add window resize event listener\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tthis.resizeListener();\n\t\t\t});\n\t\t}\n\t\t// Initialize external controls of all class instances\n\t\tthis.initExternalIndicators();\n\t\tthis.initExternalNavigations();\n\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Window resize event listener\n\t// --------------------------------------------------------------------------------------------\n\tstatic resizeListener() {\n\t\tfor (const gallery of this.index) {\n\t\t\tgallery.resize();\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Initialize external indicators of the component\n\t// --------------------------------------------------------------------------------------------\n\tstatic initExternalIndicators() {\n\t\tlet externalIndicators = document.querySelectorAll(\"[data-gallery-indicator]\");\n\t\tfor (const indicator of externalIndicators) {\n\t\t\tconst galleryId = indicator.dataset[\"galleryIndicator\"];\n\t\t\tconst gallery = this.index.find(gallery => gallery.id === galleryId);\n\n\t\t\tif (gallery) {\n\t\t\t\tif (!this.externalIndicators[galleryId]) this.externalIndicators[galleryId] = [];\n\t\t\t\tthis.externalIndicators[galleryId].push(indicator);\n\t\t\t\tgallery.initExternalIndicators();\n\t\t\t}\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Initialize external navigations of the component\n\t// --------------------------------------------------------------------------------------------\n\tstatic initExternalNavigations() {\n\t\tlet externalNavigations = document.querySelectorAll(\"[data-gallery-navigation]\");\n\t\tfor (const navigation of externalNavigations) {\n\t\t\tconst galleryId = navigation.dataset[\"galleryNavigation\"];\n\t\t\tconst gallery = this.index.find(gallery => gallery.id === galleryId);\n\n\t\t\tif (gallery) {\n\t\t\t\tif (!this.externalNavigations[galleryId]) this.externalNavigations[galleryId] = [];\n\t\t\t\tthis.externalNavigations[galleryId].push(navigation);\n\n\t\t\t\t// Add event listeners\n\t\t\t\tlet prevButton = navigation.querySelector(`[data-navigation=\"prev\"]`);\n\t\t\t\tlet nextButton = navigation.querySelector(`[data-navigation=\"next\"]`);\n\t\t\t\tif (prevButton) {\n\t\t\t\t\tprevButton.addEventListener(\"click\", () => {\n\t\t\t\t\t\tgallery.back();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (nextButton) {\n\t\t\t\t\tnextButton.addEventListener(\"click\", () => {\n\t\t\t\t\t\tgallery.forward();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// [ Object instance functions ] ==============================================================\n\t// --------------------------------------------------------------------------------------------\n\t// • Constructor\n\t// --------------------------------------------------------------------------------------------\n\tconstructor (index, element) {\n\n\t\tthis.element = element;\n\t\t// ----- Set identifier\n\t\tthis.id = element.id ? element.id : `gallery-${index}`;\n\t\telement.id = this.id;\n\n\t\t// ----- Variable initializer\n\t\tthis.cols = element.dataset[\"cols\"] ? parseInt(element.dataset[\"cols\"]) : 1;\n\t\tthis.rows = element.dataset[\"rows\"] ? parseInt(element.dataset[\"rows\"]) : 1;\n\t\tthis.transition = element.dataset[\"transition\"] ? element.dataset[\"transition\"] : \"default\";\n\t\tthis.duration = element.dataset[\"duration\"] ? parseInt(element.dataset[\"duration\"]) : 500;\n\t\tthis.modal = element.dataset[\"modal\"] ? element.dataset[\"modal\"] : null;\n\t\tthis.activePageIndex = element.dataset[\"active\"] ? parseInt(element.dataset[\"active\"]) : 0;\n\t\tthis.items = element.querySelectorAll(\".item\");\n\t\tthis.pages = [];\n\t\tthis.navlock = false;\n\t\tthis.scrollAmount = 0;\n\n\t\tthis.resize();\n\t\tthis.initEventListeners();\n\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create gallery pages and organize items into pages\n\t// --------------------------------------------------------------------------------------------\n\tinitPages () {\n\n\t\t// - Create page elements\n\t\tif (!this.pagesElement) {\n\t\t\tthis.pagesElement = document.createElement(\"div\");\n\t\t\tthis.pagesElement.classList.add(\"pages\");\n\t\t\tthis.element.appendChild(this.pagesElement);\n\t\t}\n\n\t\tthis.pages = [];\n\t\tthis.pagesElement.innerHTML = \"\";\n\n\t\tfor (let pageIndex = 0; pageIndex < this.totalPages; pageIndex++) {\n\t\t\tlet page = document.createElement(\"div\");\n\t\t\tpage.classList.add(\"page\");\n\t\t\tif (pageIndex === this.activePageIndex) page.classList.add(\"active\");\n\t\t\tthis.pagesElement.appendChild(page);\n\t\t\tthis.pages.push(page);\n\t\t}\n\n\t\t// - Process items inside pages\n\t\tfor (let itemIndex = 0; itemIndex < this.items.length; itemIndex++) {\n\t\t\t// Move item to designated page\n\t\t\tconst pageNum = Math.floor(itemIndex / this.numPageItems);\n\t\t\tlet item = this.items[itemIndex];\n\t\t\tthis.pages[pageNum].appendChild(item);\n\n\t\t\t// Adjust item size\n\t\t\titem.style.width = `${1 / this.cols * 100}%`;\n\t\t\titem.style.height = `${1 / this.rows * 100}%`;\n\n\t\t\t// Add click event listener\n\t\t\titem.addEventListener(\"click\", () => {\n\t\t\t\t// Custom click event\n\t\t\t\tif (item.dataset[\"click\"] && item.dataset[\"click\"] !== \"\") {\n\t\t\t\t\tthis.customClickEvent(item);\n\t\t\t\t}\n\t\t\t\t// Default click event\n\t\t\t\telse {\n\t\t\t\t\tthis.defaultClickEvent(item);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create container element for indicator and navigation\n\t// --------------------------------------------------------------------------------------------\n\tinitControlElement() {\n\t\t// - Control element\n\t\tif (!this.controlElement) {\n\t\t\tthis.controlElement = document.createElement(\"div\");\n\t\t\tthis.controlElement.classList.add(\"control\");\n\t\t\tthis.element.appendChild(this.controlElement);\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create indicator container and button elements\n\t// --------------------------------------------------------------------------------------------\n\tinitIndicator () {\n\t\t// - Indicator element\n\t\tif (!this.indicatorElement) {\n\t\t\tthis.indicatorElement = document.createElement(\"div\");\n\t\t\tthis.indicatorElement.classList.add(\"indicator\");\n\t\t\tthis.controlElement.appendChild(this.indicatorElement);\n\t\t}\n\t\tthis.indicatorElement.innerHTML = \"\";\n\n\t\tfor (let pageIndex = 0; pageIndex < this.totalPages; pageIndex++) {\n\t\t\tlet indicatorButton = document.createElement(\"button\");\n\t\t\tindicatorButton.dataset[\"target\"] = pageIndex;\n\t\t\tif (pageIndex === this.activePageIndex) indicatorButton.classList.add(\"active\");\n\t\t\tthis.indicatorElement.appendChild(indicatorButton);\n\t\t\tindicatorButton.addEventListener(\"click\", () => {\n\t\t\t\tthis.setActivePage(pageIndex);\n\t\t\t});\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create buttons for every external indicators\n\t// --------------------------------------------------------------------------------------------\n\tinitExternalIndicators () {\n\t\t// - Indicator element\n\t\tif (Gallery.externalIndicators[this.id]) {\n\t\t\tfor (let indicatorElement of Gallery.externalIndicators[this.id]) {\n\t\t\t\tindicatorElement.innerHTML = \"\";\n\t\t\t\tfor (let pageIndex = 0; pageIndex < this.totalPages; pageIndex++) {\n\t\t\t\t\tlet indicatorButton = document.createElement(\"button\");\n\t\t\t\t\tindicatorButton.dataset[\"target\"] = pageIndex;\n\t\t\t\t\tif (pageIndex === this.activePageIndex) indicatorButton.classList.add(\"active\");\n\t\t\t\t\tindicatorElement.appendChild(indicatorButton);\n\t\t\t\t\tindicatorButton.addEventListener(\"click\", () => {\n\t\t\t\t\t\tthis.setActivePage(pageIndex);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create navigation elements\n\t// --------------------------------------------------------------------------------------------\n\tinitNavigation () {\n\t\t// - Navigation element\n\t\tif (!this.navigationElement) {\n\t\t\tthis.navigationElement = document.createElement(\"div\");\n\t\t\tthis.navigationElement.classList.add(\"navigation\");\n\t\t\tthis.controlElement.appendChild(this.navigationElement);\n\t\t}\n\t\tthis.navigationElement.innerHTML = \"\";\n\n\t\tlet prevButton = document.createElement(\"button\");\n\t\tprevButton.classList.add(\"prev\");\n\t\tthis.navigationElement.appendChild(prevButton);\n\t\tprevButton.addEventListener(\"click\", () => {\n\t\t\tthis.back();\n\t\t});\n\n\t\tlet nextButton = document.createElement(\"button\");\n\t\tnextButton.classList.add(\"next\");\n\t\tnextButton.addEventListener(\"click\", () => {\n\t\t\tthis.forward();\n\t\t});\n\t\tthis.navigationElement.appendChild(nextButton);\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Add event listener to the element\n\t// --------------------------------------------------------------------------------------------\n\tinitEventListeners () {\n\t\t// - Scroll event\n\t\tthis.element.addEventListener(\"wheel\", (event) => {\n\t\t\tif (Math.abs(event.deltaX) > 0) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.scroll(event.deltaX);\n\t\t\t}\n\t\t});\n\n\t\t// - Touch drag event\n\t\tthis.element.addEventListener(\"touchstart\", (event) => {\n\t\t\tlet startPos = event.touches[0].clientX;\n\n\t\t\tconst touchmove = (moveevent) => {\n\t\t\t\tconst delta = startPos - moveevent.touches[0].clientX;\n\t\t\t\tthis.scroll(delta);\n\t\t\t\tstartPos = moveevent.touches[0].clientX;\n\t\t\t}\n\n\t\t\tconst touchend = () => {\n\t\t\t\tthis.element.removeEventListener(\"touchmove\", touchmove);\n\t\t\t\tthis.element.removeEventListener(\"touchend\", touchend);\n\t\t\t}\n\n\t\t\tthis.element.addEventListener(\"touchmove\", touchmove);\n\t\t\tthis.element.addEventListener(\"touchend\", touchend);\n\t\t});\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Update element's UI and functionalities\n\t// --------------------------------------------------------------------------------------------\n\tresize () {\n\t\t// ----- Smaller screen\n\t\tif (this.element.getBoundingClientRect().width <= 450) {\n\t\t\tthis.cols = Math.min(this.cols, 2);\n\t\t} else {\n\t\t\tthis.cols = this.element.dataset[\"cols\"] ? parseInt(this.element.dataset[\"cols\"]) : 1;\n\t\t}\n\n\t\t// ----- Prepare element\n\t\tif (this.items.length > 0) {\n\n\t\t\tthis.initPages();\n\t\t\tthis.initControlElement();\n\t\t\tthis.initIndicator();\n\t\t\tthis.initNavigation();\n\n\t\t\tthis.initExternalIndicators();\n\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Navigate to a page\n\t// --------------------------------------------------------------------------------------------\n\tsetActivePage (index, direction = null) {\n\t\tif (!this.navlock) {\n\t\t\tlet currentPage = this.pages[this.activePageIndex];\n\t\t\tlet targetPage = this.pages[index];\n\t\t\tlet transitionDirection = direction ? direction : ((index - this.activePageIndex) / Math.abs(index - this.activePageIndex));\n\t\t\tif (!targetPage) return;\n\n\t\t\tthis.activePageIndex = index;\n\n\t\t\t// - Update\n\t\t\tthis.navlock = true;\n\t\t\tthis.updateIndicator();\n\t\t\tthis.updatePages(currentPage, targetPage, transitionDirection);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.navlock = false;\n\t\t\t}, this.duration + 500);\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Update indicator buttons to reflect current conditions\n\t// --------------------------------------------------------------------------------------------\n\tupdateIndicator () {\n\t\tif (this.indicatorElement) {\n\t\t\tlet buttons = this.indicatorElement.querySelectorAll(\"button\");\n\t\t\tfor (let buttonIndex = 0; buttonIndex < buttons.length; buttonIndex++) {\n\t\t\t\tlet button = buttons[buttonIndex];\n\t\t\t\tbutton.classList.remove(\"active\");\n\t\t\t\tif (buttonIndex === this.activePageIndex) button.classList.add(\"active\");\n\t\t\t}\n\t\t}\n\t\tif (Gallery.externalIndicators[this.id]) {\n\t\t\tfor (const indicatorElement of Gallery.externalIndicators[this.id]) {\n\t\t\t\tlet buttons = indicatorElement.querySelectorAll(\"button\");\n\t\t\t\tfor (let buttonIndex = 0; buttonIndex < buttons.length; buttonIndex++) {\n\t\t\t\t\tlet button = buttons[buttonIndex];\n\t\t\t\t\tbutton.classList.remove(\"active\");\n\t\t\t\t\tif (buttonIndex === this.activePageIndex) button.classList.add(\"active\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Page transition\n\t// --------------------------------------------------------------------------------------------\n\tupdatePages (fromPage, targetPage, direction = 1) {\n\t\tif (this.pages) {\n\t\t\t// - Transition\n\t\t\tif (this.transition !== \"none\") {\n\n\t\t\t\t// - Slide / Default\n\t\t\t\tif (this.transition === \"slide\" || this.transition === \"default\") {\n\t\t\t\t\tif (fromPage.style.transform === \"\") {\n\t\t\t\t\t\tfromPage.style.transform = `translate3d(0, 0, 0)`;\n\t\t\t\t\t}\n\t\t\t\t\tif (targetPage.style.transform === \"\") {\n\t\t\t\t\t\ttargetPage.style.transform = `translate3d(${direction * 100}%, 0, 0)`;\n\t\t\t\t\t}\n\t\t\t\t\t// Transition\n\t\t\t\t\tfromPage.animate(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{ transform: fromPage.style.transform },\n\t\t\t\t\t\t\t{ transform: `translate3d(${direction * -100}%, 0, 0)` },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\teasing: \"ease-out\"\n\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\ttargetPage.animate(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{ transform: targetPage.style.transform },\n\t\t\t\t\t\t\t{ transform: `translate3d(0, 0, 0)` },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\teasing: \"ease-out\"\n\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tfromPage.style.transform = ``;\n\t\t\t\t\t\ttargetPage.style.transform = `translate3d(0, 0, 0)`;\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// - Finalizing\n\t\t\tfor (let pageIndex = 0; pageIndex < this.pages.length; pageIndex++) {\n\t\t\t\tlet page = this.pages[pageIndex];\n\t\t\t\tpage.classList.remove(\"active\");\n\t\t\t\tif (pageIndex === this.activePageIndex) page.classList.add(\"active\");\n\t\t\t}\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Navigate to previous page\n\t// --------------------------------------------------------------------------------------------\n\tback() {\n\t\tlet targetIndex = this.activePageIndex - 1;\n\t\tif (targetIndex < 0) {\n\t\t\ttargetIndex = this.totalPages - 1;\n\t\t}\n\t\tthis.setActivePage(targetIndex, -1);\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Navigate to next page\n\t// --------------------------------------------------------------------------------------------\n\tforward () {\n\t\tlet targetIndex = this.activePageIndex + 1;\n\t\tif (targetIndex >= this.totalPages) {\n\t\t\ttargetIndex = 0;\n\t\t}\n\t\tthis.setActivePage(targetIndex, 1);\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Update UI to respond scrolling and dragging events\n\t// --------------------------------------------------------------------------------------------\n\tscroll (amount) {\n\t\tconst elementWidth = this.element.getBoundingClientRect().width;\n\t\tif (!this.navlock) {\n\t\t\tif (this.isScrolling) window.clearTimeout(this.isScrolling);\n\t\t\tthis.scrollAmount -= amount;\n\t\t\tif (Math.abs(this.scrollAmount) > elementWidth) {\n\t\t\t\tthis.scrollAmount = Math.sign(this.scrollAmount) * elementWidth;\n\t\t\t}\n\t\t\tlet currentPage = this.pages[this.activePageIndex];\n\t\t\tlet nextPage;\n\t\t\tif (amount > 0) {\n\t\t\t\tif (this.activePageIndex + 1 < this.pages.length) {\n\t\t\t\t\tnextPage = this.pages[this.activePageIndex + 1];\n\t\t\t\t} else {\n\t\t\t\t\tnextPage = this.pages[0];\n\t\t\t\t}\n\t\t\t\tnextPage.style.transform = `translate3d(calc(100% + ${this.scrollAmount}px), 0, 0)`;\n\t\t\t} else {\n\t\t\t\tif (this.activePageIndex - 1 < 0) {\n\t\t\t\t\tnextPage = this.pages[this.pages.length - 1];\n\t\t\t\t} else {\n\t\t\t\t\tnextPage = this.pages[this.activePageIndex - 1];\n\t\t\t\t}\n\t\t\t\tnextPage.style.transform = `translate3d(calc(${this.scrollAmount}px - 100%), 0, 0)`;\n\t\t\t}\n\n\t\t\tcurrentPage.style.transform = `translate3d(${this.scrollAmount}px, 0, 0)`;\n\n\t\t\tthis.isScrolling = setTimeout(() => {\n\t\t\t\tthis.navlock = true;\n\t\t\t\t// Navigate forward\n\t\t\t\tif (this.scrollAmount <= -(0.3 * elementWidth)) {\n\t\t\t\t\tthis.navlock = false;\n\t\t\t\t\tthis.forward();\n\t\t\t\t}\n\t\t\t\t// Return to backward\n\t\t\t\telse if (this.scrollAmount >= (0.3 * elementWidth)) {\n\t\t\t\t\tthis.navlock = false;\n\t\t\t\t\tthis.back();\n\t\t\t\t}\n\t\t\t\t// Do not navigate\n\t\t\t\telse {\n\t\t\t\t\tcurrentPage.animate([\n\t\t\t\t\t\t{ transform: currentPage.style.transform },\n\t\t\t\t\t\t{ transform: `translate3d(0, 0, 0)` },\n\t\t\t\t\t], {\n\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\teasing: \"ease-out\"\n\t\t\t\t\t});\n\t\t\t\t\tcurrentPage.style.transform = `translate3d(0, 0, 0)`;\n\t\t\t\t\tif (amount > 0) {\n\t\t\t\t\t\tnextPage.animate([\n\t\t\t\t\t\t\t{ transform: nextPage.style.transform },\n\t\t\t\t\t\t\t{ transform: `translate3d(100%, 0, 0)` },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\t\teasing: \"ease-out\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnextPage.style.transform = ``;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextPage.animate([\n\t\t\t\t\t\t\t{ transform: nextPage.style.transform },\n\t\t\t\t\t\t\t{ transform: `translate3d(-100%, 0, 0)` },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\t\teasing: \"ease-out\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnextPage.style.transform = ``;\n\t\t\t\t\t}\n\t\t\t\t\tthis.navlock = false;\n\t\t\t\t}\n\t\t\t\tthis.scrollAmount = 0;\n\t\t\t}, 50);\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Handle custom click event\n\t// --------------------------------------------------------------------------------------------\n\tcustomClickEvent (itemElement) {\n\t\tconst functionName = itemElement.dataset[\"click\"];\n\t\tif (!functionName) return;\n\t\tconst fn = window[functionName];\n\t\tif (!fn) return;\n\t\t// Execute function\n\t\tfn({\n\t\t\tgalleryId: this.id,\n\t\t\titemData: Object.assign({}, itemElement.dataset),\n\t\t\ttrigger: itemElement\n\t\t});\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Handle default click event\n\t// --------------------------------------------------------------------------------------------\n\t// - Show popup when user clicks one of gallery items.\n\t// --------------------------------------------------------------------------------------------\n\tdefaultClickEvent (itemElement) {\n\t\t// - Display default popup when custom modal id is not provided.\n\t\tif (!this.modal) {}\n\t\t// - Display custom modal\n\t\telse {\n\t\t\t// ...\n\t\t}\n\n\t}\n\n}\n\n// Make this class globally available\nif (window) window[\"Gallery\"] = Gallery;\n","// =============================================================================================================================\n// - Virgo Component\n// - Map\n// =============================================================================================================================\n/** Class representating a Map Component */\nexport default class Map {\n\n\t// -------------------------------------------------------------------------------------------------------------------------\n\t// - Static Properties and Methods\n\t// -------------------------------------------------------------------------------------------------------------------------\n\n\tstatic apiKey;\n\tstatic initCallback;\n\tstatic isInitialized = false;\n\tstatic registry = [];\n\tstatic Popup;\n\n\t/** Initialize Map Class */\n\tstatic init (config, callback = undefined) {\n\t\t// Check whether API Key is provided\n\t\tif (!config.apiKey) {\n\t\t\tconsole.error(\"Please provide Google Maps JavaScript API Key.\");\n\t\t\treturn;\n\t\t}\n\t\t// Initialize static properties\n\t\tthis.apiKey \t= config.apiKey;\n\t\tif (callback)\tthis.initCallback = callback;\n\t\t// Load Google Maps JavaScript API script\n\t\tthis.loadScript();\n\t}\n\n\t/** Load API script from Google */\n\tstatic loadScript () {\n\t\tlet script\t\t= document.createElement('script');\n\t\tscript.src\t\t= `https://maps.googleapis.com/maps/api/js?key=${ this.apiKey }&libraries=drawing&callback=Map.loaded`;\n\t\tscript.async \t= true;\n\t\t// Add script to head\n\t\tdocument.head.appendChild(script);\n\t}\n\n\t/** Method to run after script has been loaded */\n\tstatic loaded () {\n\t\tthis.isInitialized = true;\n\t\tthis.Popup = class Popup extends google.maps.OverlayView {\n\n\t\t\tposition;\n\t\t\tcontainer;\n\n\t\t\tconstructor (position, content, data) {\n\t\t\t\tsuper();\n\t\t\t\tthis.position\t= position;\n\n\t\t\t\tthis.container\t= document.createElement(\"div\");\n\t\t\t\tthis.container.classList.add(\"popup-container\");\n\n\t\t\t\tconst tip = document.createElement(\"div\");\n\t\t\t\ttip.classList.add(\"popup-tip\");\n\t\t\t\tthis.container.appendChild(tip);\n\n\t\t\t\tif (typeof content === \"string\") {\n\t\t\t\t\tconst contentElement = document.createElement(\"div\");\n\t\t\t\t\tcontentElement.classList.add(\"popup-content\");\n\t\t\t\t\tcontentElement.innerHTML = nunjucks.renderString(content, data);\n\t\t\t\t\ttip.appendChild(contentElement);\n\t\t\t\t} else {\n\t\t\t\t\tconst contentElement = content.cloneNode(true);\n\t\t\t\t\tcontentElement.classList.add(\"popup-content\");\n\t\t\t\t\ttip.appendChild(contentElement);\n\t\t\t\t}\n\n\t\t\t\tthis.constructor.preventMapHitsAndGesturesFrom(this.container);\n\t\t\t}\n\n\t\t\tonAdd () {\n\t\t\t\tthis.getPanes().floatPane.appendChild(this.container);\n\t\t\t}\n\n\t\t\tonRemove () {\n\t\t\t\tif (this.container.parentElement) {\n\t\t\t\t\tthis.container.parentElement.removeChild(this.container);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdraw () {\n\t\t\t\tconst divPosition \t\t\t= this.getProjection().fromLatLngToDivPixel(this.position);\n\t\t\t\tthis.container.style.left\t= divPosition.x + \"px\";\n\t\t\t\tthis.container.style.top\t= divPosition.y + \"px\";\n\t\t\t}\n\n\t\t} // Popup\n\n\t\tif (this.initCallback) this.initCallback();\n\t}\n\n\t// -------------------------------------------------------------------------------------------------------------------------\n\t// - Object Properties and Methods\n\t// -------------------------------------------------------------------------------------------------------------------------\n\n\tid;\n\telement;\n\n\tmap;\n\tcenter;\n\tzoom;\n\tmapConfig;\n\n\tlocations;\n\tcustomMarker;\n\tcustomMarkerClickEvent;\n\tcustomPopup;\n\n\t/** Create Map instance */\n\tconstructor (selector, config) {\n\n\t\t// Check whether Map class has been initialized\n\t\tif (!this.constructor.isInitialized) {\n\t\t\tconsole.error(\"Please initialize Map class first using Map.init(config).\");\n\t\t\treturn;\n\t\t}\n\n\t\t// Initialize map element\n\t\tthis.element = document.querySelector(selector);\n\t\tif (!this.element) {\n\t\t\tconsole.error(`Element with selector ${selector} is not found.`);\n\t\t\treturn;\n\t\t}\n\n\t\t// Element identifier\n\t\tthis.id = this.element.id ? this.element.id : `map-${ this.constructor.registry.length }`;\n\t\tthis.element.id = this.id;\n\n\t\t// Initialize Google Map instance\n\t\tif (config.mapConfig) this.mapConfig = config.mapConfig;\n\t\tthis.center\t= config.center ? config.center : this.mapConfig.center;\n\t\tthis.zoom\t= config.zoom ? config.zoom : this.mapConfig.zoom;\n\t\tthis.map \t= new google.maps.Map(this.element, {\n\t\t\t...this.mapConfig,\n\t\t\tcenter: this.center,\n\t\t\tzoom: this.zoom\n\t\t});\n\n\t\t// Initialize locations\n\t\tthis.locations \t\t\t\t= [];\n\t\tthis.customMarker \t\t\t= config.customMarker \t\t? config.customMarker \t\t\t\t\t: undefined;\n\t\tthis.customMarkerClickEvent = config.customClickEvent \t? config.customMarkerClickEvent \t\t: undefined;\n\t\tthis.customPopup \t\t\t= config.customPopup \t\t? config.customPopup\t\t\t\t\t: undefined;\n\t\tif (config.locations) {\n\t\t\tconfig.locations.forEach(locationData => {\n\t\t\t\tconst locationId = `location-` + this.locations.length;\n\t\t\t\tconst location = new MapLocation(locationId, this, {\n\t\t\t\t\t...locationData,\n\t\t\t\t\tcustomClickEvent: this.customMarkerClickEvent\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tthis.map.addListener(\"click\", () => {\n\t\t\tthis.locations.forEach(location => {\n\t\t\t\tlocation.removePopup();\n\t\t\t})\n\t\t})\n\n\t} // constructor\n\n\t/** Pan map to desired position */\n\tpan (position) {\n\t\tthis.map.panTo(new google.maps.LatLng(position.lat + 0.085, position.lng - 0.06));\n\t}\n\n\n} // Map\n\n// =============================================================================================================================\n// - Virgo Component\n// - Map Location\n// =============================================================================================================================\n/** Class representating a Map Location */\nexport class MapLocation {\n\tid;\n\ttitle;\n\taddress;\n\tposition;\n\tphotos;\n\tphone;\n\tdata;\n\n\tparentMap;\n\tmarker;\n\n\tpopup;\n\tcustomClickEvent;\n\n\texternalTriggers;\n\n\t/** Create Map Location instance */\n\tconstructor (id, parentMap, config) {\n\t\tthis.parentMap \t= parentMap;\n\n\t\tthis.id \t\t= id;\n\t\tthis.title \t\t= config.title \t\t? config.title \t\t\t: null;\n\t\tthis.address \t= config.address \t? config.address \t\t: null;\n\t\tthis.photos \t= config.photos \t? config.photos \t\t: [];\n\t\tthis.phone \t\t= config.phone \t\t? config.phone \t\t\t: [];\n\t\tthis.data \t\t= config.data \t\t? config.data \t\t\t: {};\n\n\t\tif (config.photo) this.photos.push(config.photo);\n\n\t\tthis.externalTriggers = [];\n\n\t\tthis.position \t= {\n\t\t\tlat: config.lat,\n\t\t\tlng: config.lng\n\t\t};\n\n\t\tthis.drawMarker();\n\n\t\tthis.parentMap.locations.push(this);\n\t} // constructor\n\n\t/** Draw marker on the parent map */\n\tdrawMarker () {\n\t\tlet markerConfig = {\n\t\t\tposition\t: this.position,\n\t\t\tmap\t\t\t: this.parentMap.map\n\t\t}\n\t\tif (this.parentMap.customMarker) markerConfig.icon = this.parentMap.customMarker;\n\t\tthis.marker = new google.maps.Marker(markerConfig);\n\t\tthis.marker.addListener(\"click\", () => {\n\t\t\tthis.markerClicked();\n\t\t});\n\t}\n\n\t/** Clicked marker event */\n\tmarkerClicked () {\n\t\tthis.parentMap.pan(this.position);\n\n\t\tthis.parentMap.locations.forEach(location => {\n\t\t\tlocation.removePopup();\n\t\t});\n\n\t\tif (this.parentMap.customPopup) this.drawPopup();\n\t\tif (this.customClickEvent) this.customClickEvent();\n\n\t\tthis.externalTriggers.forEach(trigger => {\n\t\t\tif (trigger.eventHandler) trigger.eventHandler();\n\t\t});\n\n\t}\n\n\ttriggerMarkerClick () {\n\t\tthis.markerClicked();\n\t}\n\n\t/** Draw custom popup */\n\tdrawPopup () {\n\t\tthis.popup = new Map.Popup(\n\t\t\tnew google.maps.LatLng(this.position.lat, this.position.lng),\n\t\t\tthis.parentMap.customPopup,\n\t\t\t{\n\t\t\t\ttitle: this.title,\n\t\t\t\taddress: this.address,\n\t\t\t\tphotos: this.photos,\n\t\t\t\tphone: this.phone\n\t\t\t}\n\t\t);\n\t\tthis.popup.setMap(this.parentMap.map);\n\t}\n\n\t/** Remove custom popup */\n\tremovePopup () {\n\t\tif (this.popup) this.popup.setMap(null);\n\t}\n\n\tregisterTrigger (element, eventHandler = undefined) {\n\t\telement.addEventListener(\"click\", () => {\n\t\t\tthis.triggerMarkerClick();\n\t\t});\n\t\tthis.externalTriggers.push({\n\t\t\telement, eventHandler\n\t\t});\n\t}\n\n} // Location\n\n\n\n\n// Make this class available globally\nwindow[\"Map\"] \t\t\t= Map;\nwindow[\"MapLocation\"] \t= MapLocation;\n","// ==========================================================================================================\n// - Virgo Component\n// - Modal\n// ==========================================================================================================\nexport default class Modal {\n\n\t// [ Class static properties ] ==========================================================================\n\tstatic index;\t\t\t\t\t\t// Stores all class instances on the page\n\tstatic containerElement;\t\t\t// DOM element of modal container\n\tstatic backdropElement;\t\t\t\t// DOM element of modal backdrop\n\n\tstatic openModal;\t\t\t\t\t// The id of currently open modal\n\n\t// [ Object properties ] ================================================================================\n\telement;\t\t\t\t\t\t\t// DOM element of modal instance\n\tid;\t\t\t\t\t\t\t\t\t// String of id for the modal\n\ttransition;\t\t\t\t\t\t\t// Open and close transition effect\n\t// [\"fade\", \"slideLeft\", \"slideRight\", \"none\"]\n\tduration;\t\t\t\t\t\t\t// Transition duration in miliseconds\n\n\ttoggleElements;\t\t\t\t\t\t// List of modal toggle DOM elements\n\n\t// [ Object computed properties ] =======================================================================\n\t// State of modal instance[\"closed\", \"open\"]\n\tget state () \t\t\t\t\t\t{ return this.element.dataset[\"state\"]; }\n\tset state (value)\t\t\t\t\t{ this.element.dataset[\"state\"] = value; }\n\n\t// [ Class static functions ] ===========================================================================\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Initialize Component\n\t// ------------------------------------------------------------------------------------------------------\n\tstatic init () {\n\t\t// Initial value assignment of static properties\n\t\tthis.index = [];\n\t\t// Initialize container and backdrop elements\n\t\tthis.initContainer();\n\t\tthis.initBackdrop();\n\t\t// Register all component instances to index\n\t\tlet modalElements = document.querySelectorAll(\".modal\");\n\t\tfor (let modalIndex = 0; modalIndex < modalElements.length; modalIndex++) {\n\t\t\tlet modalElement = modalElements[modalIndex];\n\t\t\tthis.index.push(new this(modalIndex, modalElement));\n\t\t}\n\t\t// Initialize openModal property\n\t\tthis.openModal = null;\n\t\t// Initialize toggle elements\n\t\tthis.initModalToggles();\n\t}\n\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Get modal by id\n\t// ------------------------------------------------------------------------------------------------------\n\tstatic getById(id) {\n\t\treturn this.index.find(modal => modal.id === id);\n\t}\n\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Initialize container element\n\t// ------------------------------------------------------------------------------------------------------\n\tstatic initContainer () {\n\t\tif (!this.containerElement) {\n\t\t\t// Check for existing modal container on the page\n\t\t\tthis.containerElement = document.querySelector(\".modal-container\");\n\t\t\t// No existing modal container, create a new one\n\t\t\tif (!this.containerElement) {\n\t\t\t\tthis.containerElement = document.createElement(\"div\");\n\t\t\t\tthis.containerElement.classList.add(\"modal-container\");\n\t\t\t\tthis.containerElement.dataset[\"state\"] = \"hidden\";\n\t\t\t\tdocument.body.appendChild(this.containerElement);\n\t\t\t}\n\t\t}\n\t}\n\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Initialize backdrop element\n\t// ------------------------------------------------------------------------------------------------------\n\tstatic initBackdrop() {\n\t\tif (this.containerElement) {\n\t\t\t// Check for existing backdrop element inside modal container\n\t\t\tthis.backdropElement = this.containerElement.querySelector(\".modal-backdrop\");\n\t\t\t// No existing backdrop, create a new one\n\t\t\tif (!this.backdropElement) {\n\t\t\t\tthis.backdropElement = document.createElement(\"div\");\n\t\t\t\tthis.backdropElement.classList.add(\"modal-backdrop\");\n\t\t\t\tthis.containerElement.appendChild(this.backdropElement);\n\t\t\t}\n\t\t}\n\t}\n\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Initialize modal toggles (triggers)\n\t// ------------------------------------------------------------------------------------------------------\n\tstatic initModalToggles () {\n\t\tlet toggleElements = document.querySelectorAll(`[data-modal-toggle]`);\n\t\tfor (let toggle of toggleElements) {\n\t\t\tconst modal = this.index.find(modal => modal.id === toggle.dataset[\"modalToggle\"]);\n\t\t\tif (modal) {\n\t\t\t\ttoggle.addEventListener(\"click\", () => {\n\t\t\t\t\tmodal.toggle();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Open modal container\n\t// ------------------------------------------------------------------------------------------------------\n\tstatic openContainer () {\n\t\tthis.containerElement.dataset[\"state\"] = \"visible\";\n\t\tthis.containerElement.animate([\n\t\t\t{ opacity: 0 },\n\t\t\t{ opacity: 1 },\n\t\t], {\n\t\t\tduration: 300,\n\t\t\teasing: \"ease-out\"\n\t\t});\n\t}\n\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Close modal container\n\t// ------------------------------------------------------------------------------------------------------\n\tstatic closeContainer() {\n\t\tthis.containerElement.animate([\n\t\t\t{ opacity: 1 },\n\t\t\t{ opacity: 0 },\n\t\t], {\n\t\t\tduration: 300,\n\t\t\teasing: \"ease-out\"\n\t\t});\n\t\tsetTimeout(() => {\n\t\t\tthis.containerElement.dataset[\"state\"] = \"hidden\";\n\t\t\tthis.openModal = null;\n\t\t}, 300);\n\t}\n\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Close all open modals\n\t// ------------------------------------------------------------------------------------------------------\n\tstatic closeAll () { }\n\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Open modal by id\n\t// ------------------------------------------------------------------------------------------------------\n\tstatic open(id, data = undefined) {\n\t\tlet modal = this.getById(id);\n\t\tif (modal) {\n\t\t\tmodal.open(data);\n\t\t}\n\t}\n\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Close modal by id\n\t// ------------------------------------------------------------------------------------------------------\n\tstatic close(id) {\n\t\tlet modal = this.getById(id);\n\t\tif(moda) {\n\t\t\tmodal.close();\n\t\t}\n\t}\n\n\t// [ Object instance functions ] ========================================================================\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Constructor\n\t// ------------------------------------------------------------------------------------------------------\n\tconstructor (index, element) {\n\t\tthis.element = element;\n\n\t\t// Set identifier\n\t\tthis.id = this.element.id ? this.element.id : `modal-${index}`;\n\t\tthis.element.id = this.id;\n\n\t\t// Assign transition and duration\n\t\tthis.transition = this.element.dataset[\"transition\"] ? this.element.dataset[\"transition\"] : \"fade\";\n\t\tthis.duration = this.element.dataset[\"duration\"] ? parseInt(this.element.dataset[\"duration\"]) : 300;\n\n\t\t// Assign \"closed\" to modal state\n\t\tthis.state = \"closed\";\n\n\t\t// Move modal element to container\n\t\tModal.containerElement.appendChild(this.element);\n\n\t\t// Add event listener to close button\n\t\tlet closeButton = this.element.querySelector(\"button.close\");\n\t\tif (closeButton) {\n\t\t\tcloseButton.addEventListener(\"click\", () => {\n\t\t\t\tthis.close();\n\t\t\t});\n\t\t}\n\t}\n\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Open modal instance\n\t// ------------------------------------------------------------------------------------------------------\n\topen (data = undefined) {\n\t\tModal.openContainer();\n\t\t// Open animation\n\t\tif (this.transition !== \"none\") {\n\n\t\t\t// Fade transition\n\t\t\tthis.element.animate([\n\t\t\t\t{ opacity: 0 },\n\t\t\t\t{ opacity: 1 },\n\t\t\t], {\n\t\t\t\tduration: this.duration,\n\t\t\t\teasing: \"ease-out\"\n\t\t\t});\n\t\t\tthis.element.style.opacity = 1;\n\n\t\t}\n\t\t// Set modal state to \"closed\"\n\t\tthis.state = \"open\";\n\t}\n\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Close modal instance\n\t// ------------------------------------------------------------------------------------------------------\n\tclose () {\n\t\t// Close animation\n\t\tif (this.transition !== \"none\") {\n\n\t\t\t// Fade transition\n\t\t\tthis.element.animate([\n\t\t\t\t{ opacity: 1 },\n\t\t\t\t{ opacity: 0 },\n\t\t\t], {\n\t\t\t\tduration: this.duration,\n\t\t\t\teasing: \"ease-out\"\n\t\t\t});\n\t\t\tthis.element.style.opacity = 0;\n\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\t// Set modal state to \"closed\"\n\t\t\tthis.state = \"closed\";\n\t\t\tModal.closeContainer();\n\t\t}, this.duration);\n\t}\n\n\t// ------------------------------------------------------------------------------------------------------\n\t// • Toggle open or close modal instance\n\t// ------------------------------------------------------------------------------------------------------\n\ttoggle(data = undefined) {\n\t\tif (this.state === \"closed\")\t{ this.open(data); }\n\t\telse\t\t\t\t\t\t\t{ this.close(); }\n\t}\n\n}\n\n// Make this class globally available\nif (window) window[\"Modal\"] = Modal;\n","// =============================================================================================================================\n// - Virgo Component\n// - Rating\n// =============================================================================================================================\nexport default class Rating {\n\n\t// =========================================================================================================================\n\t// - Static Properties\n\t// =========================================================================================================================\n\n\tstatic isInitialized\t\t= false;\n\tstatic defaultSelector \t\t= ``;\n\tstatic defaults\t\t\t\t= {};\n\tstatic registry\t\t\t\t= [];\n\n\t// =========================================================================================================================\n\t// - Object Properties\n\t// =========================================================================================================================\n\n\tid;\t\t\t\t\t\t\t\t// instance id\n\trating;\t\t\t\t\t\t\t// value of rating from 0 to 1.0\n\tratio;\t\t\t\t\t\t\t// maximum value of rating\n\tstep;\t\t\t\t\t\t\t// smallest value increment\n\telement;\t\t\t\t\t\t// DOM Element of the instance\n\n\t// Object computed properties ----------------------------------------------------------------------------------------------\n\n\tget value () {\n\t\treturn this.rating / this.ratio;\n\t}\n\n\t// =========================================================================================================================\n\t// - Static Methods\n\t// =========================================================================================================================\n\n\t/**\n\t * Create rating elements from page using selector\n\t */\n\tstatic init (selector = null) {\n\t\tif(!this.isInitialized) {\n\t\t\tthis.initDefaults();\n\t\t}\n\t\tlet elements = document.querySelectorAll(selector ? selector : this.defaultSelector);\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tlet element = elements[i];\n\t\t\tthis.register(new this(i, element));\n\t\t}\n\n\t}\n\n\tstatic initDefaults () {\n\t\tthis.defaultSelector \t= `[data-component=\"rating\"]`;\n\t\tthis.defaults.id\t\t= `rating-`;\n\t\tthis.defaults.rating\t= 0;\n\t\tthis.defaults.ratio\t\t= 10;\n\t\tthis.defaults.step\t\t= 0.1;\n\n\t\tthis.isInitialized \t\t= true;\n\t}\n\n\tstatic register (instance) {\n\t\tthis.registry.push(instance);\n\t}\n\n\t// =========================================================================================================================\n\t// - Object Methods\n\t// =========================================================================================================================\n\n\tconstructor (index, element, objectConfig = null) {\n\n\t\tconst proto \t= this.constructor;\n\t\tconst config\t= objectConfig \t? objectConfig \t: element.dataset;\n\n\t\tif (!proto.isInitialized)\t\tproto.initDefaults();\n\n\t\tthis.id\t\t\t= element.id\t? element.id\t\t\t\t: proto.defaults.id + index;\n\t\tthis.rating \t= config.rating\t? parseFloat(config.rating)\t: proto.defaults.rating;\n\t\tthis.ratio \t\t= config.ratio\t? parseInt(config.ratio)\t: proto.defaults.ratio;\n\t\tthis.step \t\t= config.step\t? parseFloat(config.step)\t: proto.defaults.step;\n\n\t\tthis.element \t= element;\n\n\t\tthis.initRating();\n\n\t} // end of constructor method\n\n\tinitRating () {\n\t\tthis.element.innerHTML = \"\";\n\t\tfor (let i = 1; i <= this.ratio; i++) {\n\t\t\tlet button \t= document.createElement(\"button\");\n\t\t\tlet fill\t= document.createElement(\"div\");\n\t\t\tfill.classList.add(\"fill\");\n\t\t\tbutton.appendChild(fill);\n\t\t\tthis.element.appendChild(button);\n\t\t\t// Adjust fill width\n\t\t\tif (Math.floor(this.rating) >= i) {\n\t\t\t\tfill.style.width = `100%`;\n\t\t\t}\n\t\t\telse if (Math.ceil(this.rating) == i) {\n\t\t\t\tfill.style.width = `${ (Math.ceil(this.rating) - this.rating) * 100 }%`;\n\t\t\t}\n\t\t}\n\t}\n\n} // end of class\n\n// Make this class globally available\nif (window) window[\"Rating\"] = Rating;\n","// ================================================================================================\n// - Virgo Component\n// - Slider\n// ================================================================================================\nexport default class Slider {\n\n\t// [ Class static properties ] ================================================================\n\tstatic index;\t\t\t\t\t// Stores all instances on the page\n\tstatic externalIndicators;\t\t// DOM element of external indicators\n\tstatic externalNavigations;\t\t// DOM element of external navigations\n\n\tstatic defaultTransition;\t\t// Slider default transition\n\tstatic defaultDuration;\t\t\t// Slider default transition duration\n\tstatic defaultEasing;\t\t\t// Slider default transition timing function\n\n\t// [ Object properties ] ======================================================================\n\telement;\t\t\t\t\t\t// The slider DOM element\n\tid;\t\t\t\t\t\t\t\t// String of id for the slider\n\ttransition;\t\t\t\t\t\t// Slider transition [\"default\", \"slide\", \"fade\", \"none\"]\n\tduration;\t\t\t\t\t\t// Slider transition duration in miliseconds\n\teasing;\t\t\t\t\t\t\t// Slider timing function\n\tactiveSlideIndex;\t\t\t\t// Index of currently active slide\n\tslides;\t\t\t\t\t\t\t// Stores all slide DOM elements inside the slider\n\n\tslidesElement;\t\t\t\t\t// DOM element of slides container\n\tcontrolElement;\t\t\t\t\t// DOM element of slider control\n\tindicatorElement;\t\t\t\t// DOM element of slider indicator\n\tnavigationElement;\t\t\t\t// DOM element of slider navigation\n\n\tnavlock;\t\t\t\t\t\t// Navigation lock { true: prevent navigation event }\n\tscrollAmount;\t\t\t\t\t// The amount of scrolling applied to slider\n\tisScrolling;\t\t\t\t\t// State of scrolling { true: slider is being scrolled }\n\n\texternalIndicators;\t\t\t\t// Stores DOM elements of external indicators\n\texternalNavigations;\t\t\t// Stores DOM elements of external navigations\n\n\tisFlexible;\t\t\t\t\t\t// True if slider dimension is set to flexible\n\n\t// [ Computed properties ] ====================================================================\n\t// --------------------------------------------------------------------------------------------\n\t// • Get total slides\n\t// --------------------------------------------------------------------------------------------\n\tget totalSlides ()\t\t\t\t{ return this.slides.length; }\n\n\t// [ Class static functions ] =================================================================\n\t// --------------------------------------------------------------------------------------------\n\t// • Initialize Component\n\t// --------------------------------------------------------------------------------------------\n\tstatic init() {\n\t\t// Initialize the value of static properties\n\t\tthis.index\t\t\t\t\t= [];\n\t\tthis.externalIndicators\t\t= {};\n\t\tthis.externalNavigations\t= {};\n\n\t\t// Default values\n\t\tthis.defaultTransition\t\t= \"slide\";\n\t\tthis.defaultDuration\t\t= 1000;\n\t\tthis.defaultEasing \t\t\t= \"cubic-bezier(0.370, 0.140, 0.110, 0.995)\";\n\n\t\t// Initialize the instances of this class\n\t\tlet sliderElements = document.querySelectorAll(\".slider\");\n\t\tif (sliderElements.length > 0) {\n\t\t\tfor (let index = 0; index < sliderElements.length; index++) {\n\t\t\t\tconst sliderElement = sliderElements[index];\n\t\t\t\tthis.index.push(new this(index, sliderElement));\n\t\t\t}\n\t\t\t// Add window resize event listener\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tthis.resizeListener();\n\t\t\t});\n\t\t}\n\t\t// Initialize external controls of all class instances\n\t\tthis.initExternalIndicators();\n\t\tthis.initExternalNavigations();\n\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Window resize event listener\n\t// --------------------------------------------------------------------------------------------\n\tstatic resizeListener() {\n\t\tfor (const slider of this.index) {\n\t\t\tslider.resize();\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Initialize external indicators of the component\n\t// --------------------------------------------------------------------------------------------\n\tstatic initExternalIndicators() {\n\t\tlet externalIndicators = document.querySelectorAll(\"[data-slider-indicator]\");\n\t\tfor (const indicator of externalIndicators) {\n\t\t\tconst sliderId = indicator.dataset[\"sliderIndicator\"];\n\t\t\tconst slider = this.index.find(slider => slider.id === sliderId);\n\n\t\t\tif (slider) {\n\t\t\t\tif (!this.externalIndicators[sliderId]) this.externalIndicators[sliderId] = [];\n\t\t\t\tthis.externalIndicators[sliderId].push(indicator);\n\t\t\t\tslider.initExternalIndicators();\n\t\t\t}\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Initialize external navigations of the component\n\t// --------------------------------------------------------------------------------------------\n\tstatic initExternalNavigations() {\n\t\tlet externalNavigations = document.querySelectorAll(\"[data-slider-navigation]\");\n\t\tfor (const navigation of externalNavigations) {\n\t\t\tconst sliderId = navigation.dataset[\"sliderNavigation\"];\n\t\t\tconst slider = this.index.find(slider => slider.id === sliderId);\n\n\t\t\tif (slider) {\n\t\t\t\tif (!this.externalNavigations[sliderId]) this.externalNavigations[sliderId] = [];\n\t\t\t\tthis.externalNavigations[sliderId].push(navigation);\n\n\t\t\t\t// Add event listeners\n\t\t\t\tlet prevButton = navigation.querySelector(`[data-navigation=\"prev\"]`);\n\t\t\t\tlet nextButton = navigation.querySelector(`[data-navigation=\"next\"]`);\n\t\t\t\tif (prevButton) {\n\t\t\t\t\tprevButton.addEventListener(\"click\", () => {\n\t\t\t\t\t\tslider.back();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (nextButton) {\n\t\t\t\t\tnextButton.addEventListener(\"click\", () => {\n\t\t\t\t\t\tslider.forward();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// [ Object instance functions ] ==============================================================\n\t// --------------------------------------------------------------------------------------------\n\t// • Constructor\n\t// --------------------------------------------------------------------------------------------\n\tconstructor(index, element) {\n\n\t\tthis.element\t= element;\n\t\t// ----- Set identifier\n\t\tthis.id \t\t= element.id ? element.id : `gallery-${index}`;\n\t\telement.id\t\t= this.id;\n\n\t\t// ----- Variable initializer\n\t\tthis.transition\t\t\t= element.dataset[\"transition\"]\t? element.dataset[\"transition\"] \t\t: Slider.defaultTransition;\n\t\tthis.duration\t\t\t= element.dataset[\"duration\"]\t? parseInt(element.dataset[\"duration\"]) : Slider.defaultDuration;\n\t\tthis.easing\t\t\t\t= element.dataset[\"easing\"]\t\t? element.dataset[\"easing\"] \t\t\t: Slider.defaultEasing;\n\t\tthis.activeSlideIndex\t= element.dataset[\"active\"]\t\t? parseInt(element.dataset[\"active\"]) \t: 0;\n\t\tthis.isFlexible\t\t\t= element.classList.contains(\"flexible\") ? true : false;\n\n\t\telement.dataset[\"active\"] = this.activeSlideIndex;\n\n\t\tthis.slidesElement\t\t= this.element.querySelector(\".slides\");\n\n\t\tthis.slides \t\t\t= this.slidesElement.querySelectorAll(\".slide\");\n\t\tthis.navlock \t\t\t= false;\n\t\tthis.scrollAmount \t\t= 0;\n\n\t\tthis.initSlides();\n\t\tthis.resize();\n\t\tthis.initEventListeners();\n\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Initialize slides\n\t// --------------------------------------------------------------------------------------------\n\tinitSlides () {\n\t\tfor (let slideIndex = 0; slideIndex < this.totalSlides; slideIndex++) {\n\t\t\tlet slide = this.slides[slideIndex];\n\t\t\tif (slideIndex === this.activeSlideIndex) {\n\t\t\t\tslide.classList.add(\"active\");\n\t\t\t}\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Flexible slide dimension\n\t// --------------------------------------------------------------------------------------------\n\tupdateFlexibleSize () {\n\t\t// If slider is flexible, resize to match its content\n\t\tif (this.isFlexible) {\n\t\t\tlet slideHeight = this.slides[this.activeSlideIndex].getBoundingClientRect().height;\n\t\t\tthis.slidesElement.style.height = `${slideHeight}px`;\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create container element for indicator and navigation\n\t// --------------------------------------------------------------------------------------------\n\tinitControlElement() {\n\t\t// - Control element\n\t\tif (!this.controlElement) {\n\t\t\tthis.controlElement = document.createElement(\"div\");\n\t\t\tthis.controlElement.classList.add(\"control\");\n\t\t\tthis.element.appendChild(this.controlElement);\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create indicator container and button elements\n\t// --------------------------------------------------------------------------------------------\n\tinitIndicator() {\n\t\t// - Indicator element\n\t\tif (!this.indicatorElement) {\n\t\t\tthis.indicatorElement = document.createElement(\"div\");\n\t\t\tthis.indicatorElement.classList.add(\"indicator\");\n\t\t\tthis.controlElement.appendChild(this.indicatorElement);\n\t\t}\n\t\tthis.indicatorElement.innerHTML = \"\";\n\n\t\tfor (let slideIndex = 0; slideIndex < this.totalSlides; slideIndex++) {\n\t\t\tlet indicatorButton = document.createElement(\"button\");\n\t\t\tindicatorButton.dataset[\"target\"] = slideIndex;\n\t\t\tif (slideIndex === this.activeSlideIndex) indicatorButton.classList.add(\"active\");\n\t\t\tthis.indicatorElement.appendChild(indicatorButton);\n\t\t\tindicatorButton.addEventListener(\"click\", () => {\n\t\t\t\tthis.setActiveSlide(slideIndex);\n\t\t\t});\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create buttons for every external indicators\n\t// --------------------------------------------------------------------------------------------\n\tinitExternalIndicators() {\n\t\t// - Indicator element\n\t\tif (Slider.externalIndicators[this.id]) {\n\t\t\tfor (let indicatorElement of Slider.externalIndicators[this.id]) {\n\t\t\t\tindicatorElement.innerHTML = \"\";\n\t\t\t\tfor (let slideIndex = 0; slideIndex < this.totalSlides; slideIndex++) {\n\t\t\t\t\tlet indicatorButton = document.createElement(\"button\");\n\t\t\t\t\tindicatorButton.dataset[\"target\"] = slideIndex;\n\t\t\t\t\tif (slideIndex === this.activeSlideIndex) indicatorButton.classList.add(\"active\");\n\t\t\t\t\tindicatorElement.appendChild(indicatorButton);\n\t\t\t\t\tindicatorButton.addEventListener(\"click\", () => {\n\t\t\t\t\t\tthis.setActiveSlide(slideIndex);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create navigation elements\n\t// --------------------------------------------------------------------------------------------\n\tinitNavigation() {\n\t\t// - Navigation element\n\t\tif (!this.navigationElement) {\n\t\t\tthis.navigationElement = document.createElement(\"div\");\n\t\t\tthis.navigationElement.classList.add(\"navigation\");\n\t\t\tthis.controlElement.appendChild(this.navigationElement);\n\t\t}\n\t\tthis.navigationElement.innerHTML = \"\";\n\n\t\tlet prevButton = document.createElement(\"button\");\n\t\tprevButton.classList.add(\"prev\");\n\t\tthis.navigationElement.appendChild(prevButton);\n\t\tprevButton.addEventListener(\"click\", () => {\n\t\t\tthis.back();\n\t\t});\n\n\t\tlet nextButton = document.createElement(\"button\");\n\t\tnextButton.classList.add(\"next\");\n\t\tnextButton.addEventListener(\"click\", () => {\n\t\t\tthis.forward();\n\t\t});\n\t\tthis.navigationElement.appendChild(nextButton);\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Add event listener to the element\n\t// --------------------------------------------------------------------------------------------\n\tinitEventListeners() {\n\t\t// - Scroll event\n\t\tthis.element.addEventListener(\"wheel\", (event) => {\n\t\t\tif (Math.abs(event.deltaX) > 0) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.scroll(event.deltaX);\n\t\t\t}\n\t\t});\n\n\t\t// - Touch drag event\n\t\tthis.element.addEventListener(\"touchstart\", (event) => {\n\t\t\tlet startPos = event.touches[0].clientX;\n\n\t\t\tconst touchmove = (moveevent) => {\n\t\t\t\tconst delta = startPos - moveevent.touches[0].clientX;\n\t\t\t\tthis.scroll(delta);\n\t\t\t\tstartPos = moveevent.touches[0].clientX;\n\t\t\t}\n\n\t\t\tconst touchend = () => {\n\t\t\t\tthis.element.removeEventListener(\"touchmove\", touchmove);\n\t\t\t\tthis.element.removeEventListener(\"touchend\", touchend);\n\t\t\t}\n\n\t\t\tthis.element.addEventListener(\"touchmove\", touchmove);\n\t\t\tthis.element.addEventListener(\"touchend\", touchend);\n\t\t});\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Update element's UI and functionalities\n\t// --------------------------------------------------------------------------------------------\n\tresize() {\n\n\t\t// ----- Prepare element\n\t\tif (this.totalSlides > 0) {\n\t\t\tthis.updateFlexibleSize();\n\t\t\tthis.initControlElement();\n\t\t\tthis.initIndicator();\n\t\t\tthis.initNavigation();\n\t\t\tthis.initExternalIndicators();\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Navigate to a slide\n\t// --------------------------------------------------------------------------------------------\n\tsetActiveSlide(index, direction = null) {\n\t\tif (!this.navlock) {\n\t\t\tlet currentSlide = this.slides[this.activeSlideIndex];\n\t\t\tlet targetSlide = this.slides[index];\n\t\t\tlet transitionDirection = direction ? direction : ((index - this.activeSlideIndex) / Math.abs(index - this.activeSlideIndex));\n\t\t\tif (!targetSlide) return;\n\n\t\t\tthis.activeSlideIndex = index;\n\n\t\t\t// - Update\n\t\t\tthis.navlock = true;\n\t\t\tthis.updateIndicator();\n\t\t\tthis.updateSlides(currentSlide, targetSlide, transitionDirection);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.navlock = false;\n\t\t\t}, this.duration + 500);\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Update indicator buttons to reflect current conditions\n\t// --------------------------------------------------------------------------------------------\n\tupdateIndicator() {\n\t\tif (this.indicatorElement) {\n\t\t\tlet buttons = this.indicatorElement.querySelectorAll(\"button\");\n\t\t\tfor (let buttonIndex = 0; buttonIndex < buttons.length; buttonIndex++) {\n\t\t\t\tlet button = buttons[buttonIndex];\n\t\t\t\tbutton.classList.remove(\"active\");\n\t\t\t\tif (buttonIndex === this.activeSlideIndex) button.classList.add(\"active\");\n\t\t\t}\n\t\t}\n\t\tif (Slider.externalIndicators[this.id]) {\n\t\t\tfor (const indicatorElement of Slider.externalIndicators[this.id]) {\n\t\t\t\tlet buttons = indicatorElement.querySelectorAll(\"button\");\n\t\t\t\tfor (let buttonIndex = 0; buttonIndex < buttons.length; buttonIndex++) {\n\t\t\t\t\tlet button = buttons[buttonIndex];\n\t\t\t\t\tbutton.classList.remove(\"active\");\n\t\t\t\t\tif (buttonIndex === this.activeSlideIndex) button.classList.add(\"active\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Slide transition\n\t// --------------------------------------------------------------------------------------------\n\tupdateSlides(fromSlide, targetSlide, direction = 1) {\n\t\tif (this.slides) {\n\t\t\t// - Transition\n\t\t\tif (this.transition !== \"none\") {\n\n\t\t\t\t// - Slide / Default\n\t\t\t\tif (this.transition === \"slide\" || this.transition === \"default\") {\n\t\t\t\t\tif (fromSlide.style.transform === \"\") {\n\t\t\t\t\t\tfromSlide.style.transform = `translate3d(0, 0, 0)`;\n\t\t\t\t\t}\n\t\t\t\t\tif (targetSlide.style.transform === \"\") {\n\t\t\t\t\t\ttargetSlide.style.transform = `translate3d(${direction * 100}%, 0, 0)`;\n\t\t\t\t\t}\n\t\t\t\t\t// Transition\n\t\t\t\t\tfromSlide.animate(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{ transform: fromSlide.style.transform, opacity: fromSlide.style.opacity },\n\t\t\t\t\t\t\t{ transform: `translate3d(${direction * -100}%, 0, 0)`, opacity: 0.33 },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\teasing: this.easing\n\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\ttargetSlide.animate(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{ transform: targetSlide.style.transform, opacity: targetSlide.style.opacity },\n\t\t\t\t\t\t\t{ transform: `translate3d(0, 0, 0)`, opacity: 1 },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\teasing: this.easing\n\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tfromSlide.style.transform = ``;\n\t\t\t\t\t\tfromSlide.style.opacity = 0.33;\n\t\t\t\t\t\ttargetSlide.style.transform = `translate3d(0, 0, 0)`;\n\t\t\t\t\t\ttargetSlide.style.opacity = 1;\n\t\t\t\t\t}, this.duration);\n\t\t\t\t}\n\n\t\t\t\t// - Fade\n\t\t\t\telse if (this.transition === \"fade\") {\n\t\t\t\t\ttargetSlide.style.display = \"block\";\n\t\t\t\t\t// Transition\n\t\t\t\t\tfromSlide.animate(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{ opacity: 1 },\n\t\t\t\t\t\t\t{ opacity: 0 },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\teasing: this.easing\n\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\ttargetSlide.animate(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{ opacity: 0 },\n\t\t\t\t\t\t\t{ opacity: 1 },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\teasing: this.easing\n\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tfromSlide.style.display = \"none\";\n\t\t\t\t\t\tfromSlide.style.opacity = 0;\n\t\t\t\t\t\ttargetSlide.style.display = \"block\";\n\t\t\t\t\t\ttargetSlide.style.opacity = 1;\n\t\t\t\t\t}, this.duration);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// - Finalizing\n\t\t\tsetTimeout(() => {\n\t\t\t\tfor (let slideIndex = 0; slideIndex < this.totalSlides; slideIndex++) {\n\t\t\t\t\tlet slide = this.slides[slideIndex];\n\t\t\t\t\tslide.classList.remove(\"active\");\n\t\t\t\t\tif (slideIndex === this.activeSlideIndex) slide.classList.add(\"active\");\n\t\t\t\t\tthis.updateFlexibleSize();\n\t\t\t\t}\n\t\t\t}, this.duration);\n\t\t}\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Navigate to previous slide\n\t// --------------------------------------------------------------------------------------------\n\tback() {\n\t\tlet targetIndex = this.activeSlideIndex - 1;\n\t\tif (targetIndex < 0) {\n\t\t\ttargetIndex = this.totalSlides - 1;\n\t\t}\n\t\tthis.setActiveSlide(targetIndex, -1);\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Navigate to next page\n\t// --------------------------------------------------------------------------------------------\n\tforward() {\n\t\tlet targetIndex = this.activeSlideIndex + 1;\n\t\tif (targetIndex >= this.totalSlides) {\n\t\t\ttargetIndex = 0;\n\t\t}\n\t\tthis.setActiveSlide(targetIndex, 1);\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Update UI to respond scrolling and dragging events\n\t// --------------------------------------------------------------------------------------------\n\tscroll(amount) {\n\t\t// Disable scroll when transition is set to fade or none\n\t\tif (this.transition === \"fade\" || this.transition === \"none\") return;\n\n\t\tconst elementWidth = this.element.getBoundingClientRect().width;\n\t\tconst opacity = Math.min(1, Math.abs(this.scrollAmount / elementWidth));\n\n\t\tif (!this.navlock) {\n\t\t\tif (this.isScrolling) window.clearTimeout(this.isScrolling);\n\t\t\tthis.scrollAmount -= amount;\n\t\t\tif (Math.abs(this.scrollAmount) > elementWidth) {\n\t\t\t\tthis.scrollAmount = Math.sign(this.scrollAmount) * elementWidth;\n\t\t\t}\n\t\t\tlet currentSlide = this.slides[this.activeSlideIndex];\n\t\t\tlet nextSlide;\n\t\t\tif (amount > 0) {\n\t\t\t\tif (this.activeSlideIndex + 1 < this.totalSlides) {\n\t\t\t\t\tnextSlide = this.slides[this.activeSlideIndex + 1];\n\t\t\t\t} else {\n\t\t\t\t\tnextSlide = this.slides[0];\n\t\t\t\t}\n\t\t\t\tnextSlide.style.transform = `translate3d(calc(100% + ${this.scrollAmount}px), 0, 0)`;\n\t\t\t} else {\n\t\t\t\tif (this.activeSlideIndex - 1 < 0) {\n\t\t\t\t\tnextSlide = this.slides[this.slides.length - 1];\n\t\t\t\t} else {\n\t\t\t\t\tnextSlide = this.slides[this.activeSlideIndex - 1];\n\t\t\t\t}\n\t\t\t\tnextSlide.style.transform = `translate3d(calc(${this.scrollAmount}px - 100%), 0, 0)`;\n\t\t\t}\n\n\t\t\tcurrentSlide.style.transform = `translate3d(${this.scrollAmount}px, 0, 0)`;\n\t\t\tcurrentSlide.style.opacity = 1 - opacity;\n\t\t\tnextSlide.style.opacity = opacity;\n\n\t\t\tthis.isScrolling = setTimeout(() => {\n\t\t\t\tthis.navlock = true;\n\t\t\t\t// Navigate forward\n\t\t\t\tif (this.scrollAmount <= -(0.3 * elementWidth)) {\n\t\t\t\t\tthis.navlock = false;\n\t\t\t\t\tthis.forward();\n\t\t\t\t}\n\t\t\t\t// Return to backward\n\t\t\t\telse if (this.scrollAmount >= (0.3 * elementWidth)) {\n\t\t\t\t\tthis.navlock = false;\n\t\t\t\t\tthis.back();\n\t\t\t\t}\n\t\t\t\t// Do not navigate\n\t\t\t\telse {\n\t\t\t\t\tcurrentSlide.animate([\n\t\t\t\t\t\t{ transform: currentSlide.style.transform, opacity: currentSlide.style.opacity },\n\t\t\t\t\t\t{ transform: `translate3d(0, 0, 0)`, opacity: 1 },\n\t\t\t\t\t], {\n\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\teasing: this.easing\n\t\t\t\t\t});\n\t\t\t\t\tcurrentSlide.style.transform = `translate3d(0, 0, 0)`;\n\t\t\t\t\tcurrentSlide.style.opacity = 1;\n\t\t\t\t\tif (amount > 0) {\n\t\t\t\t\t\tnextSlide.animate([\n\t\t\t\t\t\t\t{ transform: nextSlide.style.transform, opacity: nextSlide.style.opacity },\n\t\t\t\t\t\t\t{ transform: `translate3d(100%, 0, 0)`, opacity: 0.33 },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\t\teasing: this.easing\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnextSlide.style.transform = ``;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextSlide.animate([\n\t\t\t\t\t\t\t{ transform: nextSlide.style.transform, opacity: nextSlide.style.opacity},\n\t\t\t\t\t\t\t{ transform: `translate3d(-100%, 0, 0)`, opacity: 0.33 },\n\t\t\t\t\t\t], {\n\t\t\t\t\t\t\tduration: this.duration,\n\t\t\t\t\t\t\teasing: this.easing\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnextSlide.style.transform = ``;\n\t\t\t\t\t}\n\t\t\t\t\tnextSlide.style.opacity = 0.33;\n\t\t\t\t\tthis.navlock = false;\n\t\t\t\t}\n\t\t\t\tthis.scrollAmount = 0;\n\t\t\t}, 50);\n\t\t}\n\t}\n\n}\n\n// Make this class globally available\nif (window) window[\"Slider\"] = Slider;\n","// =============================================================================================================================\n// - Virgo Component\n// - Stack\n// =============================================================================================================================\n/** Class representating a Stack Component */\nexport default class Stack {\n\n\t// =========================================================================================================================\n\t// - Static Properties\n\t// =========================================================================================================================\n\n\tstatic isInitialized\t\t= false;\n\tstatic defaultSelector \t\t= ``;\n\tstatic defaults\t\t\t\t= {};\n\tstatic registry\t\t\t\t= [];\n\n\t// Static computed properties ----------------------------------------------------------------------------------------------\n\n\tstatic get totalInstances () {\n\t\treturn this.registry.length;\n\t}\n\n\t// =========================================================================================================================\n\t// - Object Properties\n\t// =========================================================================================================================\n\n\tid;\n\n\tlayout;\n\tjustify;\n\ttransition;\n\tduration;\n\teasing;\n\n\trows;\n\tcols;\n\tminRows;\n\tminCols;\n\talign;\n\tautoplay;\n\n\tpages;\n\telement;\n\n\t#pageWidth;\n\t#pagesContainer;\n\t#controlElement;\n\t#navigationElement;\n\t#indicatorElement;\n\t#externalControlElements;\n\t#externalNavigationElements;\n\t#externalIndicatorElements;\n\n\t// Object computed properties ----------------------------------------------------------------------------------------------\n\n\t/**\n\t * Get maximum total items inside a page\n\t * @return {number} */\n\tget #pageItemNum () { return this.rows * this.cols; }\n\n\t/**\n\t * Get instance size and dimension\n\t * @return {object} */\n\tget size () {\n\t\tconst width\t\t= this.element.getBoundingClientRect().width;\n\t\tconst height \t= this.element.getBoundingClientRect().height;\n\n\t\treturn {\n\t\t\twidth, height\n\t\t}\n\t}\n\n\t/**\n\t * Set instance active page index\n\t */\n\tset activeIndex (index) {\n\t\tthis.element.dataset[\"active\"] = index;\n\t}\n\n\t/**\n\t * Get instance active page index\n\t */\n\tget activeIndex () {\n\t\treturn parseInt(this.element.dataset[\"active\"]);\n\t}\n\n\t// =========================================================================================================================\n\t// - Static Methods\n\t// =========================================================================================================================\n\n\tstatic init (selector = null, config = null) {\n\t\t// Initialize default value of class properties\n\t\tthis.initDefaults();\n\t\t// Create class instance from matched elements in the document\n\t\tfor (let element of document.querySelectorAll(selector ? selector : this.defaultSelector)) {\n\t\t\tthis.register(new this(this.totalInstances, element, config));\n\t\t}\n\t\t// Mark this class as initialized\n\t\tthis.isInitialized = true;\n\t}\n\n\tstatic initDefaults () {\n\t\tthis.defaultSelector \t\t= `[data-component=\"stack\"]`;\n\t\tthis.defaults.id\t\t\t= `stack-`;\n\t\tthis.defaults.layout\t\t= `list`;\n\t\tthis.defaults.justify\t\t= `start`;\n\t\tthis.defaults.transition\t= `slide`;\n\t\tthis.defaults.duration\t\t= 300;\n\t\tthis.defaults.easing\t\t= `ease-out`;\n\t\tthis.defaults.rows\t\t\t= 1;\n\t\tthis.defaults.cols\t\t\t= 1;\n\t\tthis.defaults.minRows\t\t= 1;\n\t\tthis.defaults.minCols\t\t= 1;\n\t\tthis.defaults.align\t\t\t= \"start\";\n\t\tthis.defaults.autoplay\t\t= 0;\n\t\tthis.defaults.activeIndex\t= 0;\n\t}\n\n\tstatic register (instance) {\n\t\tthis.registry.push(instance);\n\t}\n\n\t// =========================================================================================================================\n\t// - Object Methods\n\t// =========================================================================================================================\n\n\t/**\n\t * Create a Stack\n\t * @param {number} index - Index of instance\n\t * @param {HTMLElement} element - Instance DOM Element\n\t * @param {object} objectConfig - Instance configuration object\n\t */\n\tconstructor (index, element, objectConfig = null) {\n\n\n\t\tconst proto \t\t= this.constructor;\n\t\tconst config \t\t= objectConfig \t\t\t? objectConfig \t\t\t\t\t: element.dataset;\n\n\t\tthis.element\t\t= element;\n\t\tthis.pages \t\t\t= [];\n\n\t\tthis.id \t\t\t= element.id \t\t\t? element.id \t\t\t\t\t: proto.defaults.id + proto.totalInstances;\n\t\tthis.layout\t\t\t= config[\"layout\"] \t\t? config[\"layout\"]\t\t\t\t: proto.defaults.layout;\n\t\tthis.justify\t\t= config[\"justify\"] \t? config[\"justify\"]\t\t\t\t: proto.defaults.justify;\n\t\tthis.transition\t\t= config[\"transition\"] \t? config[\"transition\"]\t\t\t: proto.defaults.transition;\n\t\tthis.duration\t\t= config[\"duration\"] \t? config[\"duration\"]\t\t\t: proto.defaults.duration;\n\t\tthis.easing\t\t\t= config[\"easing\"] \t\t? config[\"easing\"]\t\t\t\t: proto.defaults.easing;\n\t\tthis.activeIndex\t= config[\"active\"] \t\t? config[\"active\"]\t\t\t\t: proto.defaults.activeIndex;\n\n\t\tthis.rows\t\t\t= config[\"rows\"] \t\t? parseInt(config[\"rows\"])\t\t: proto.defaults.rows;\n\t\tthis.cols\t\t\t= config[\"cols\"] \t\t? parseInt(config[\"cols\"])\t\t: proto.defaults.cols;\n\t\tthis.minRows\t\t= config[\"minRows\"] \t? parseInt(config[\"minRows\"])\t: proto.defaults.minRows;\n\t\tthis.minCols\t\t= config[\"minCols\"] \t? parseInt(config[\"minCols\"])\t: proto.defaults.minCols;\n\t\tthis.align\t\t\t= config[\"align\"] \t\t? config[\"align\"]\t\t\t\t: proto.defaults.align;\n\t\tthis.autoplay\t\t= config[\"autoplay\"] \t? config[\"autoplay\"]\t\t\t: proto.defaults.autoplay;\n\n\t\tthis.element.id\t\t= this.id;\n\n\t\tthis.configure();\n\n\t} // end of constructor method\n\n\t/**\n\t * Configure pages, controls, and external controls\n\t */\n\tconfigure () {\n\t\tthis.initPages();\n\t\tthis.initControls();\n\t\tthis.initExternalControls();\n\t}\n\n\t/**\n\t * Initialize pages\n\t */\n\tinitPages () {\n\t\t// Create pages container if it isn't available yet\n\t\tif (!this.#pagesContainer) {\n\t\t\tconst existingContainer = this.element.querySelector(\".pages\");\n\t\t\tif (existingContainer) {\n\t\t\t\tthis.#pagesContainer = existingContainer;\n\t\t\t} else {\n\t\t\t\tthis.#pagesContainer = document.createElement(\"div\");\n\t\t\t\tthis.#pagesContainer.classList.add(\"pages\");\n\t\t\t\tthis.element.appendChild(this.#pagesContainer);\n\t\t\t}\n\t\t}\n\n\t\t// Empty pages container content\n\t\tthis.#pagesContainer.innerHTML = \"\";\n\n\t\t// Put items inside its respective page\n\t\tlet items \t\t= this.element.querySelectorAll(\".item\");\n\t\tlet pageIndex \t= 0;\n\t\tlet pageCols\t= 0;\n\t\tfor (let item of items) {\n\t\t\tconst colspan = item.dataset[\"colspan\"] ? parseInt(item.dataset[\"colspan\"]) : 1;\n\n\t\t\t// Check if current page can contain the item\n\t\t\t// If not, move on to the next page\n\t\t\tif (pageCols + colspan > this.cols) {\n\t\t\t\tpageIndex++;\n\t\t\t\tpageCols = 0;\n\t\t\t}\n\n\t\t\t// Create page element if it isn't available yet\n\t\t\tif (!this.pages[pageIndex]) {\n\t\t\t\tlet page = document.createElement(\"div\");\n\t\t\t\tpage.classList.add(\"page\");\n\t\t\t\tif (pageIndex === this.activeIndex) page.classList.add(\"active\");\n\t\t\t\tthis.#pagesContainer.appendChild(page);\n\t\t\t\tthis.pages.push(page);\n\t\t\t}\n\n\t\t\t// Move item element to page\n\t\t\tthis.pages[pageIndex].appendChild(item);\n\n\t\t\t// Update pageCols\n\t\t\tpageCols = pageCols + this.cols;\n\n\t\t}\n\n\t\t// Adjust page positioning\n\t\tif (!this.#pageWidth) {\n\t\t\tthis.#pageWidth = this.pages[0].getBoundingClientRect().width;\n\t\t}\n\n\t\tfor (let i = 0; i < this.pages.length; i++) {\n\t\t\tlet page = this.pages[i];\n\t\t\tlet position = this.calculatePagePosition(i);\n\t\t\tpage.style.transform = `translate3d(${ position.x }px, ${ position.y }px, ${ position.z }px)`;\n\t\t\tpage.style.zIndex = this.calculatePageZIndex(i);\n\t\t}\n\n\t\t// Stack Layout: Add overlay navigation\n\t\tif (this.layout === \"stack\") {\n\t\t\tfor (var i = 0; i < this.pages.length; i++) {\n\t\t\t\tlet page \t= this.pages[i];\n\t\t\t\tlet target\t= i;\n\t\t\t\tlet item\t= page.querySelector(\".item\");\n\t\t\t\tlet nav\t\t= page.querySelector(\".overlay-nav\");\n\t\t\t\tif (!nav) {\n\t\t\t\t\tnav = document.createElement(\"div\");\n\t\t\t\t\tnav.classList.add(\"overlay-nav\");\n\t\t\t\t\tif (item) item.appendChild(nav);\n\t\t\t\t}\n\t\t\t\tnav.addEventListener(\"click\", () => {\n\t\t\t\t\tthis.goToPage(target);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\n\t} // end of initPages method\n\n\n\tcalculatePagePosition (pageIndex) {\n\t\tlet page\t\t= this.pages[pageIndex];\n\t\tlet startPos\t= 0;\n\t\tlet x\t\t\t= 0;\n\t\tlet y\t\t\t= 0;\n\t\tlet z\t\t\t= 0;\n\n\t\t// Center alignment\n\t\tif (this.align === \"center\") {\n\t\t\tstartPos = (this.size.width - this.#pageWidth) / 2;\n\t\t}\n\n\t\t// List layout\n\t\tif (this.layout === \"list\") {\n\t\t\tx = startPos + ((pageIndex - this.activeIndex) * this.#pageWidth);\n\t\t}\n\t\t// Stack layout\n\t\telse if (this.layout === \"stack\") {\n\t\t\tx = startPos + ((pageIndex - this.activeIndex) * this.#pageWidth) - ((pageIndex - this.activeIndex) * 240);\n\t\t\tz = -1 * Math.abs((pageIndex - this.activeIndex) * 50);\n\t\t}\n\n\t\treturn {x, y, z};\n\t}\n\n\tcalculatePageZIndex (pageIndex) {\n\t\treturn (pageIndex === this.activeIndex) ? 7001 : (7000 - Math.abs(pageIndex - this.activeIndex));\n\t}\n\n\tinitControls () {\n\t\t// Initialize control element if it isn't available yet\n\t\tif (!this.#controlElement) {\n\t\t\tconst existingControl = this.element.querySelector(\".control\");\n\t\t\tif (existingControl) {\n\t\t\t\tthis.#controlElement = existingControl;\n\t\t\t} else {\n\t\t\t\tthis.#controlElement = document.createElement(\"div\");\n\t\t\t\tthis.#controlElement.classList.add(\"control\");\n\t\t\t\tthis.element.appendChild(this.#controlElement);\n\t\t\t}\n\t\t}\n\n\t\t// Initialize indicator element if it isn't available yet\n\t\tif (!this.#indicatorElement) {\n\t\t\tconst existingIndicator = this.element.querySelector(\".indicator\");\n\t\t\tif (existingIndicator) {\n\t\t\t\tthis.#indicatorElement = existingIndicator;\n\t\t\t} else {\n\t\t\t\tthis.#indicatorElement = document.createElement(\"div\");\n\t\t\t\tthis.#indicatorElement.classList.add(\"indicator\");\n\t\t\t\tthis.#controlElement.appendChild(this.#indicatorElement);\n\t\t\t}\n\t\t}\n\n\t\t// Initialize navigation element if it isn't available yet\n\t\tif (!this.#navigationElement) {\n\t\t\tconst existingNavigation = this.element.querySelector(\".navigation\");\n\t\t\tif (existingNavigation) {\n\t\t\t\tthis.#navigationElement = existingNavigation;\n\t\t\t} else {\n\t\t\t\tthis.#navigationElement = document.createElement(\"div\");\n\t\t\t\tthis.#navigationElement.classList.add(\"navigation\");\n\t\t\t\tthis.#controlElement.appendChild(this.#navigationElement);\n\t\t\t}\n\t\t}\n\n\t\t// Initialize indicator elements\n\t\tthis.#indicatorElement.innerHTML = \"\";\n\t\tfor (let i = 0; i < this.pages.length; i++) {\n\t\t\tlet button = document.createElement(\"button\");\n\t\t\tbutton.dataset[\"target\"] = i;\n\t\t\tif (i === this.activeIndex) button.classList.add(\"active\");\n\t\t\tbutton.addEventListener(\"click\", () => {\n\t\t\t\tthis.goToPage(i);\n\t\t\t});\n\t\t\tthis.#indicatorElement.appendChild(button);\n\t\t}\n\n\t\t// Initialize navigation elements\n\t\tthis.#navigationElement.innerHTML = \"\";\n\n\t\tlet prevButton = document.createElement(\"button\");\n\t\tprevButton.dataset[\"nav\"] = `prev`;\n\t\tthis.#navigationElement.appendChild(prevButton);\n\t\tprevButton.addEventListener(\"click\", () => {\n\t\t\tthis.goToPage((this.activeIndex - 1), -1);\n\t\t});\n\n\t\tlet nextButton = document.createElement(\"button\");\n\t\tnextButton.dataset[\"nav\"] = `next`;\n\t\tthis.#navigationElement.appendChild(nextButton);\n\n\t\tnextButton.addEventListener(\"click\", () => {\n\t\t\tthis.goToPage((this.activeIndex + 1), -1);\n\t\t});\n\n\n\n\t} // end of init control method\n\n\tinitExternalControls () {\n\n\t\tif (!this.#externalIndicatorElements) {\n\t\t\tthis.#externalIndicatorElements = document.querySelectorAll(`[data-indicator=\"${this.id}\"]`);\n\t\t}\n\t\tfor (var i = 0; i < this.#externalIndicatorElements.length; i++) {\n\t\t\tlet indicator = this.#externalIndicatorElements[i];\n\t\t\tindicator.innerHTML = \"\";\n\t\t\tthis.#indicatorElement.innerHTML = \"\";\n\t\t\tfor (let i = 0; i < this.pages.length; i++) {\n\t\t\t\tlet button = document.createElement(\"button\");\n\t\t\t\tbutton.dataset[\"target\"] = i;\n\t\t\t\tif (i === this.activeIndex) button.classList.add(\"active\");\n\t\t\t\tbutton.addEventListener(\"click\", () => {\n\t\t\t\t\tthis.goToPage(i);\n\t\t\t\t});\n\t\t\t\tindicator.appendChild(button);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tgoToPage (targetIndex, direction = 1) {\n\n\t\tlet index = targetIndex;\n\t\tif (targetIndex < 0) {\n\t\t\tindex = this.pages.length - 1;\n\t\t}\n\t\telse if (targetIndex >= this.pages.length) {\n\t\t\tindex = 0;\n\t\t}\n\n\t\tlet prevIndex = this.activeIndex;\n\t\tlet targetPage = this.pages[index];\n\t\tif (!targetPage) return;\n\n\t\tthis.activeIndex = index;\n\t\tthis.updateIndicators();\n\t\tthis.updateExternalIndicators();\n\t\tthis.updatePages(prevIndex, index, direction);\n\t}\n\n\tupdateIndicators () {\n\t\tlet indicatorButtons = this.#indicatorElement.querySelectorAll(\"button\");\n\t\tfor (let i = 0; i < indicatorButtons.length; i++) {\n\t\t\tlet button = indicatorButtons[i];\n\t\t\tbutton.classList.remove(\"active\");\n\t\t\tif (i === this.activeIndex) button.classList.add(\"active\");\n\t\t}\n\t}\n\n\tupdateExternalIndicators () {\n\t\tif (this.#externalIndicatorElements) {\n\t\t\tfor (let indicator of this.#externalIndicatorElements) {\n\t\t\t\tlet indicatorButtons = indicator.querySelectorAll(\"button\");\n\t\t\t\tfor (let i = 0; i < indicatorButtons.length; i++) {\n\t\t\t\t\tlet button = indicatorButtons[i];\n\t\t\t\t\tbutton.classList.remove(\"active\");\n\t\t\t\t\tif (i === this.activeIndex) button.classList.add(\"active\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tupdatePages (fromIndex, targetIndex, direction = 1) {\n\t\tfor (let i = 0; i < this.pages.length; i++) {\n\t\t\tlet page = this.pages[i];\n\t\t\tlet position = this.calculatePagePosition(i);\n\t\t\tlet targetTransform = `translate3d(${ position.x }px, ${ position.y }px, ${ position.z }px)`;\n\n\t\t\tpage.classList.remove(\"active\");\n\t\t\tif (i === targetIndex) page.classList.add(\"active\");\n\n\t\t\t// Transition\n\t\t\t// - Slide\n\t\t\tif (this.transition === \"slide\") {\n\t\t\t\tpage.animate([\n\t\t\t\t\t{ transform: page.style.transform },\n\t\t\t\t\t{ transform: targetTransform },\n\t\t\t\t], {\n\t\t\t\t\tduration\t: this.duration,\n\t\t\t\t\teasing\t\t: this.easing\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Finishing\n\t\t\tpage.style.transform \t= targetTransform;\n\t\t\tpage.style.zIndex \t\t= this.calculatePageZIndex(i);\n\t\t}\n\t}\n\n\n}\n\n// Make this class globally available\nif (window) window[\"Stack\"] = Stack;\n","// =============================================================================================================================\n// - Virgo Component\n// - Tab\n// =============================================================================================================================\n/** Class representating a Tab Component */\nexport default class Tab {\n\n\t// =========================================================================================================================\n\t// - Static Properties\n\t// =========================================================================================================================\n\n\tstatic isInitialized\t\t= false;\n\tstatic defaultSelector \t\t= ``;\n\tstatic defaults\t\t\t\t= {};\n\tstatic registry\t\t\t\t= [];\n\n\t// Static computed properties ----------------------------------------------------------------------------------------------\n\n\tstatic get totalInstances () {\n\t\treturn this.registry.length;\n\t}\n\n\t// =========================================================================================================================\n\t// - Object Properties\n\t// =========================================================================================================================\n\n\tid;\n\tactiveIndex;\n\n\ttransition;\n\tduration;\n\teasing;\n\n\tpages;\n\n\telement;\n\t#navElement;\n\t#pagesElement;\n\t#navButtons;\n\n\t// Object computed properties ----------------------------------------------------------------------------------------------\n\n\t/**\n\t * Set instance active page index\n\t */\n\tset activeIndex (index) {\n\t\tthis.element.dataset[\"active\"] = index;\n\t}\n\n\t/**\n\t * Get instance active page index\n\t */\n\tget activeIndex () {\n\t\treturn parseInt(this.element.dataset[\"active\"]);\n\t}\n\n\t/**\n\t * Get current active page instance\n\t */\n\tget activePage () {\n\t\treturn this.pages[this.activeIndex];\n\t}\n\n\t// =========================================================================================================================\n\t// - Static Methods\n\t// =========================================================================================================================\n\n\tstatic init (selector = null, config = null) {\n\t\t// Initialize default value of class properties\n\t\tthis.initDefaults();\n\t\t// Create class instance from matched elements in the document\n\t\tfor (let element of document.querySelectorAll(selector ? selector : this.defaultSelector)) {\n\t\t\tlet instance = new this(this.totalInstances, element, config);\n\t\t}\n\t\t// Mark this class as initialized\n\t\tthis.isInitialized = true;\n\t}\n\n\tstatic initDefaults () {\n\t\tthis.defaultSelector \t\t= `[data-component=\"tab\"]`;\n\t\tthis.defaults.id\t\t\t= `tab-`;\n\t\tthis.defaults.transition\t= `fade`;\n\t\tthis.defaults.duration\t\t= 300;\n\t\tthis.defaults.easing\t\t= `ease-out`;\n\t\tthis.defaults.activeIndex\t= 0;\n\t}\n\n\tstatic register (instance) {\n\t\tthis.registry.push(instance);\n\t}\n\n\tstatic getById (id) {\n\t\treturn this.registry.find(el => el.id === id);\n\t}\n\n\t// =========================================================================================================================\n\t// - Object Methods\n\t// =========================================================================================================================\n\n\t/**\n\t * Create a Tab\n\t * @param {number} index - Index of instance\n\t * @param {HTMLElement} element - Instance DOM Element\n\t * @param {object} objectConfig - Instance configuration object\n\t */\n\tconstructor (index, element, objectConfig = null) {\n\n\n\t\tconst proto \t\t= this.constructor;\n\t\tconst config \t\t= objectConfig \t\t\t? objectConfig \t\t\t\t\t: element.dataset;\n\n\t\tthis.element\t\t= element;\n\t\tthis.id \t\t\t= element.id \t\t\t? element.id \t\t\t\t\t: proto.defaults.id + proto.totalInstances;\n\t\tthis.transition\t\t= config[\"transition\"] \t? config[\"transition\"]\t\t\t: proto.defaults.transition;\n\t\tthis.duration\t\t= config[\"duration\"] \t? config[\"duration\"]\t\t\t: proto.defaults.duration;\n\t\tthis.easing\t\t\t= config[\"easing\"] \t\t? config[\"easing\"]\t\t\t\t: proto.defaults.easing;\n\t\tthis.activeIndex\t= config[\"active\"] \t\t? config[\"active\"]\t\t\t\t: proto.defaults.activeIndex;\n\n\t\tthis.element.id\t\t= this.id;\n\t\tthis.pages \t\t\t= [];\n\t\tthis.#navButtons\t= [];\n\n\t\tTab.register(this);\n\n\t\tthis.configure();\n\n\t} // end of constructor method\n\n\t/**\n\t * Configure pages, navigation, and external navigation\n\t */\n\tconfigure () {\n\t\tthis.initPages();\n\t\tthis.initNav();\n\t\tthis.initExternalNav();\n\t}\n\n\t/**\n\t * Initialize pages\n\t */\n\tinitPages () {\n\t\t// Get pages container\n\t\tif (!this.#pagesElement) {\n\t\t\tthis.#pagesElement = this.element.querySelector(\".tab-pages\");\n\t\t}\n\t\tif (!this.#pagesElement) return;\n\n\t\t// Iterate through pages\n\t\tlet pages = this.#pagesElement.querySelectorAll(\".tab-page\");\n\t\tfor (let i = 0; i < pages.length; i++) {\n\t\t\tlet page = new TabPage(this.id, i, pages[i]);\n\t\t\tthis.pages.push(page);\n\t\t}\n\t}\n\n\t/**\n\t * Initialize navigation\n\t */\n\tinitNav () {\n\t\t// Get nav container\n\t\tif (!this.#navElement) {\n\t\t\tthis.#navElement = this.element.querySelector(\".tab-nav\");\n\t\t}\n\t\tif (!this.#navElement) return;\n\n\n\t\t// Iterate through nav buttons\n\t\tlet buttons = this.#navElement.querySelectorAll(\"button\");\n\t\tfor (let i = 0; i < buttons.length; i++) {\n\t\t\tlet button = new TabNav(this.id, i, buttons[i]);\n\t\t\tthis.#navButtons.push(button);\n\t\t}\n\t}\n\n\t/**\n\t * Initialize external navigation\n\t */\n\tinitExternalNav () {\n\t\tlet externalNavs = document.querySelectorAll(`[data-tab-nav=\"${ this.id }\"]`);\n\t\tfor (var externalNav of externalNavs) {\n\t\t\t// Iterate through nav buttons\n\t\t\tlet buttons = externalNav.querySelectorAll(\"button\");\n\t\t\tfor (let i = 0; i < buttons.length; i++) {\n\t\t\t\tlet button = new TabNav(this.id, i, buttons[i]);\n\t\t\t\tthis.#navButtons.push(button);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Navigate to specific page\n\t */\n\tgoToPage (targetIndex, direction = 1) {\n\t\tif (targetIndex === this.activeIndex) return;\n\n\t\tlet targetPage = this.pages[targetIndex];\n\t\tif (targetPage) {\n\t\t\ttargetPage.activate();\n\t\t\tthis.activePage.deactivate();\n\t\t\tthis.activeIndex = targetIndex;\n\t\t\tfor (let nav of this.#navButtons) {\n\t\t\t\tnav.refresh();\n\t\t\t}\n\t\t}\n\t}\n\n} // end of Tab class\n\n// Make Tab class globally available\nif (window) window[\"Tab\"] = Tab;\n\n// =============================================================================================================================\n/** Class representating a Tab Page */\nexport class TabPage {\n\n\telement;\n\ttabId;\n\tindex;\n\n\tget tab () {\n\t\treturn Tab.getById(this.tabId);\n\t}\n\n\tget isActive () {\n\t\treturn this.element.classList.contains(\"active\");\n\t}\n\n\tconstructor (tabId, index, element) {\n\t\tthis.tabId \t\t= tabId;\n\t\tthis.index \t\t= index;\n\t\tthis.element \t= element;\n\n\t\tthis.refresh();\n\t}\n\n\trefresh () {\n\t\tif (this.tab.activeIndex === this.index) {\n\t\t\tthis.activate();\n\t\t} else {\n\t\t\tthis.deactivate();\n\t\t}\n\t}\n\n\tactivate () {\n\t\tthis.element.classList.add(\"active\");\n\t}\n\n\tdeactivate () {\n\t\tthis.element.classList.remove(\"active\");\n\t}\n\n}\n\n// =============================================================================================================================\n/** Class representating a Tab Navigation Button */\nexport class TabNav {\n\n\telement;\n\n\ttabId;\n\ttargetIndex;\n\n\tget tab () {\n\t\treturn Tab.getById(this.tabId);\n\t}\n\n\tget isActive () {\n\t\treturn this.element.classList.contains(\"active\");\n\t}\n\n\tconstructor (tabId, targetIndex, element) {\n\t\tthis.tabId \t\t\t= tabId;\n\t\tthis.targetIndex \t= targetIndex;\n\t\tthis.element \t\t= element;\n\n\t\tthis.element.addEventListener(\"click\", () => {\n\t\t\tthis.tab.goToPage(this.targetIndex);\n\t\t});\n\n\t\tthis.refresh();\n\t}\n\n\trefresh () {\n\t\tif (this.tab.activeIndex === this.targetIndex) {\n\t\t\tthis.activate();\n\t\t} else {\n\t\t\tthis.deactivate();\n\t\t}\n\t}\n\n\tactivate () {\n\t\tthis.element.classList.add(\"active\");\n\t}\n\n\tdeactivate () {\n\t\tthis.element.classList.remove(\"active\");\n\t}\n\n\n\n}\n","// ================================================================================================\n// - Virgo Component\n// - Tagger\n// ================================================================================================\nexport default class Tagger {\n\n\t// [ Class static properties ] ================================================================\n\tstatic index;\t\t\t\t\t// Stores all instances on the page\n\n\t// [ Object properties ] ======================================================================\n\telement;\t\t\t\t\t\t// The instance DOM element\n\tid;\t\t\t\t\t\t\t\t// String of id for the instance\n\ttargetImage;\t\t\t\t\t// DOM element of image to be tagged\n\n\tcontainerElement;\t\t\t\t// DOM element of tag points container\n\ttagPoints;\t\t\t\t\t\t// List of tag point DOM elements\n\n\t// [ Object computed properties ] =============================================================\n\t// --------------------------------------------------------------------------------------------\n\t// • Get the dimension of target image\n\t// --------------------------------------------------------------------------------------------\n\tget imageDimension () {\n\t\treturn this.targetImage.getBoundingClientRect();\n\t}\n\n\n\t// [ Class static functions ] =================================================================\n\t// --------------------------------------------------------------------------------------------\n\t// • Initialize Component\n\t// --------------------------------------------------------------------------------------------\n\tstatic init () {\n\t\t// Static variable initial assignment\n\t\tthis.index = [];\n\t\t// Get all corresponding elements to create instances of this class\n\t\tlet taggers = document.querySelectorAll(\".tagger\");\n\t\tfor (let i = 0; i < taggers.length; i++) {\n\t\t\tlet tagger = taggers[i];\n\t\t\tthis.index.push(new this(i, tagger));\n\t\t}\n\n\t\t// Listen to window resize event\n\t\twindow.addEventListener(\"resize\", () => {\n\t\t\tthis.resizeListener();\n\t\t});\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Get tagger by id\n\t// --------------------------------------------------------------------------------------------\n\tstatic getById(id) {\n\t\treturn this.index.find(tagger => tagger.id === id);\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Window resize event listener\n\t// --------------------------------------------------------------------------------------------\n\tstatic resizeListener () {\n\t\tfor (const tagger of this.index) {\n\t\t\ttagger.repositionTags();\n\t\t}\n\t}\n\n\t// [ Object instance functions ] ==============================================================\n\t// --------------------------------------------------------------------------------------------\n\t// • Constructor\n\t// --------------------------------------------------------------------------------------------\n\tconstructor(index, element) {\n\t\t// Element reference\n\t\tthis.element = element;\n\n\t\t// Instance identifier\n\t\tthis.id \t\t\t= this.element.id ? this.element.id : `tagger-${index}`;\n\t\tthis.element.id \t= this.id;\n\n\t\t// Target image\n\t\tthis.targetImage \t= this.element.querySelector(\".image > img\");\n\n\t\t// Initialize tag points\n\t\tthis.initTagPoints();\n\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Create tag points\n\t// --------------------------------------------------------------------------------------------\n\tinitTagPoints () {\n\t\tthis.tagPoints = [];\n\n\t\t// Tag points container\n\t\tthis.containerElement = document.createElement(\"div\");\n\t\tthis.containerElement.classList.add(\"tag-points\");\n\t\tthis.element.appendChild(this.containerElement);\n\n\t\t// Tag points\n\t\tlet tagElements = this.element.querySelectorAll(\".tags > .tag\");\n\t\tfor (let i = 0; i < tagElements.length; i++) {\n\t\t\tlet tagElement\t= tagElements[i];\n\t\t\tconst label \t= tagElement.dataset[\"label\"] \t? tagElement.dataset[\"label\"] : \"\";\n\t\t\tconst x \t\t= tagElement.dataset[\"x\"] \t\t? parseFloat(tagElement.dataset[\"x\"]) : 0;\n\t\t\tconst y \t\t= tagElement.dataset[\"y\"] \t\t? parseFloat(tagElement.dataset[\"y\"]) : 0;\n\n\t\t\tlet tagPoint\t= new TagPoint(this, i, label, x, y);\n\t\t\tthis.containerElement.appendChild(tagPoint.element);\n\t\t\tthis.tagPoints.push(tagPoint);\n\n\t\t\tif (tagElement.dataset[\"click\"]) {\n\t\t\t\tconst contentElement = tagElement.querySelector(\"div\") ? tagElement.querySelector(\"div\") : null;\n\t\t\t\ttagPoint.element.addEventListener(\"click\", () => {\n\t\t\t\t\twindow[tagElement.dataset[\"click\"]]({\n\t\t\t\t\t\ttaggerId: this.id,\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tcontent: contentElement\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\n\t}\n\n\t// --------------------------------------------------------------------------------------------\n\t// • Reposition tags\n\t// --------------------------------------------------------------------------------------------\n\trepositionTags () {\n\t\tfor (const tagPoint of this.tagPoints) {\n\t\t\ttagPoint.setPosition();\n\t\t}\n\t}\n\n}\n\nexport class TagPoint {\n\n\t// [ Object properties ] ======================================================================\n\ttagger;\t\t\t\t\t\t// Tagger id\n\telement;\t\t\t\t\t// Tag point element\n\tindex;\t\t\t\t\t\t// Tag point index\n\tlabel;\t\t\t\t\t\t// Tag point label\n\tx;\t\t\t\t\t\t\t// Tag point x position in ratio [0..1]\n\ty;\t\t\t\t\t\t\t// Tag point y position in ratio [0..1]\n\n\t// [ Object instance functions ] ==============================================================\n\t// --------------------------------------------------------------------------------------------\n\t// • Constructor\n\t// --------------------------------------------------------------------------------------------\n\tconstructor (tagger, index, label, x, y) {\n\t\tthis.tagger\t\t= tagger;\n\t\tthis.index \t\t= index;\n\t\tthis.label \t\t= label;\n\t\tthis.x\t \t\t= x;\n\t\tthis.y \t\t\t= y;\n\t\tthis.element \t= document.createElement(\"div\");\n\n\t\t// Add attributes to element\n\t\tthis.element.classList.add(\"tag-point\");\n\t\tthis.element.dataset[\"tagger\"] \t= this.tagger.id;\n\t\tthis.element.dataset[\"index\"] \t= this.index;\n\t\tthis.element.dataset[\"label\"] \t= this.label;\n\t\tthis.element.dataset[\"x\"] \t\t= this.x;\n\t\tthis.element.dataset[\"y\"] \t\t= this.y;\n\n\t\tthis.setPosition();\n\t}\n\n\tsetPosition () {\n\t\tconst xPos \t\t\t\t\t= (this.tagger.targetImage.clientWidth * this.x);\n\t\tconst yPos \t\t\t\t\t= this.tagger.targetImage.clientHeight * this.y;\n\t\tthis.element.style.left \t= xPos + \"px\";\n\t\tthis.element.style.top\t\t= yPos + \"px\";\n\t}\n\n}\n\n// Make this class globally available\nif (window) window[\"Tagger\"] = Tagger;\n","// -----------------------------------------------------------------------------------------------------------------------------\n// - Import Components\n// -----------------------------------------------------------------------------------------------------------------------------\nimport Accordion\tfrom \"./components/accordion/accordion.js\";\nimport Carousel\t\tfrom \"./components/carousel/carousel.js\";\nimport Gallery\t\tfrom \"./components/gallery/gallery.js\";\nimport Map\t\t\tfrom \"./components/map/map.js\";\nimport Modal\t\tfrom \"./components/modal/modal.js\";\nimport Rating\t\tfrom \"./components/rating/rating.js\";\nimport Slider\t\tfrom \"./components/slider/slider.js\";\nimport Stack\t\tfrom \"./components/stack/stack.js\";\nimport Tab\t\t\tfrom \"./components/tab/tab.js\";\nimport Tagger\t\tfrom \"./components/tagger/tagger.js\";\n\n// -----------------------------------------------------------------------------------------------------------------------------\n// - Browser Environment\n// -----------------------------------------------------------------------------------------------------------------------------\nif (window) {\n\twindow.Accordion \t= Accordion;\n\twindow.Carousel\t\t= Carousel;\n\twindow.Gallery\t\t= Gallery;\n\twindow.Map\t\t\t= Map;\n\twindow.Modal\t\t= Modal;\n\twindow.Rating\t\t= Rating;\n\twindow.Slider\t\t= Slider;\n\twindow.Stack\t\t= Stack;\n\twindow.Tab\t\t\t= Tab;\n\twindow.Tagger\t\t= Tagger;\n}\n","// =============================================================================================================================\n// - Virgo Component\n// - Accordion\n// =============================================================================================================================\n/** Class representating a Accordion Component */\nexport default class Accordion {\n\n\t// =========================================================================================================================\n\t// - Static Properties\n\t// =========================================================================================================================\n\n\tstatic isInitialized\t\t= false;\n\tstatic defaultSelector \t\t= ``;\n\tstatic defaults\t\t\t\t= {};\n\tstatic registry\t\t\t\t= [];\n\n\t// Static computed properties ----------------------------------------------------------------------------------------------\n\n\tstatic get totalInstances () {\n\t\treturn this.registry.length;\n\t}\n\n\t// =========================================================================================================================\n\t// - Object Properties\n\t// =========================================================================================================================\n\n\tid;\n\n\ttransition;\n\tduration;\n\teasing;\n\n\telement;\n\t#toggleElement;\n\t#contentElement;\n\n\t#contentHeight;\n\t#contentPadding;\n\t#contentDisplay;\n\n\t/**\n\t * Set instance state\n\t */\n\tset state (state) {\n\t\tthis.element.dataset[\"state\"] = state;\n\t}\n\n\t/**\n\t * Get instance state\n\t */\n\tget state () {\n\t\treturn this.element.dataset[\"state\"];\n\t}\n\n\t// =========================================================================================================================\n\t// - Static Methods\n\t// =========================================================================================================================\n\n\tstatic init (selector = null, config = null) {\n\t\t// Initialize default value of class properties\n\t\tthis.initDefaults();\n\t\t// Create class instance from matched elements in the document\n\t\tfor (let element of document.querySelectorAll(selector ? selector : this.defaultSelector)) {\n\t\t\tthis.register(new this(this.totalInstances, element, config));\n\t\t}\n\t\t// Mark this class as initialized\n\t\tthis.isInitialized = true;\n\t}\n\n\tstatic initDefaults () {\n\t\tthis.defaultSelector \t\t= `[data-component=\"accordion\"]`;\n\t\tthis.defaults.id\t\t\t= `accordion-`;\n\t\tthis.defaults.layout\t\t= `list`;\n\t\tthis.defaults.transition\t= `slide`;\n\t\tthis.defaults.duration\t\t= 300;\n\t\tthis.defaults.easing\t\t= `ease-out`;\n\t\tthis.defaults.state\t\t\t= `collapsed`;\n\t}\n\n\tstatic register (instance) {\n\t\tthis.registry.push(instance);\n\t}\n\n\t// =========================================================================================================================\n\t// - Object Methods\n\t// =========================================================================================================================\n\n\t/**\n\t * Create a Stack\n\t * @param {number} index - Index of instance\n\t * @param {HTMLElement} element - Instance DOM Element\n\t * @param {object} objectConfig - Instance configuration object\n\t */\n\tconstructor (index, element, objectConfig = null) {\n\n\n\t\tconst proto \t\t= this.constructor;\n\t\tconst config \t\t= objectConfig \t\t\t? objectConfig \t\t\t\t\t: element.dataset;\n\n\t\tthis.element\t\t= element;\n\n\t\tthis.id \t\t\t= element.id \t\t\t? element.id \t\t\t\t\t: proto.defaults.id + proto.totalInstances;\n\t\tthis.transition\t\t= config[\"transition\"] \t? config[\"transition\"]\t\t\t: proto.defaults.transition;\n\t\tthis.duration\t\t= config[\"duration\"] \t? config[\"duration\"]\t\t\t: proto.defaults.duration;\n\t\tthis.easing\t\t\t= config[\"easing\"] \t\t? config[\"easing\"]\t\t\t\t: proto.defaults.easing;\n\n\t\tthis.element.id\t\t= this.id;\n\n\t\tthis.#toggleElement\t\t= element.querySelector(\".toggle\");\n\t\tthis.#contentElement\t= element.querySelector(\".content\");\n\n\t\tthis.#contentHeight \t= this.#contentElement.getBoundingClientRect().height;\n\t\tthis.#contentPadding\t= this.#contentElement.style.padding;\n\t\tthis.#contentDisplay\t= this.#contentElement.style.display;\n\n\t\tthis.collapse();\n\n\t\tthis.#toggleElement.addEventListener(\"click\", () => {\n\t\t\tthis.toggle();\n\t\t});\n\n\t} // end of constructor method\n\n\tcollapse () {\n\t\tthis.state = `collapsed`;\n\n\t\t// Slide transition\n\t\tif (this.transition === `slide`) {\n\t\t\tthis.#contentElement.animate([\n\t\t\t\t{ height: this.#contentHeight + \"px\", padding: this.#contentPadding },\n\t\t\t\t{ height: 0, padding: 0 },\n\t\t\t], {\n\t\t\t\tduration: this.duration,\n\t\t\t\teasing\t: this.easing\n\t\t\t});\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.#contentElement.style.height = 0;\n\t\t\t\tthis.#contentElement.style.padding = 0;\n\t\t\t\tthis.#contentElement.style.display = `none`;\n\t\t\t}, this.duration);\n\t\t}\n\t\t// No transition\n\t\telse {\n\t\t\tthis.#contentElement.style.height = 0;\n\t\t\tthis.#contentElement.style.padding = 0;\n\t\t\tthis.#contentElement.style.display = `none`;\n\t\t}\n\t}\n\n\topen () {\n\t\tthis.state = `open`;\n\n\t\t// Slide transition\n\t\tif (this.transition === `slide`) {\n\t\t\tthis.#contentElement.style.display = this.#contentDisplay;\n\t\t\tthis.#contentElement.animate([\n\t\t\t\t{ height: 0, padding: 0 },\n\t\t\t\t{ height: this.#contentHeight + \"px\", padding: this.#contentPadding },\n\t\t\t], {\n\t\t\t\tduration: this.duration,\n\t\t\t\teasing\t: this.easing\n\t\t\t});\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.#contentElement.style.height = this.#contentHeight + \"px\";\n\t\t\t\tthis.#contentElement.style.padding = this.#contentPadding;\n\t\t\t}, this.duration);\n\t\t}\n\t\t// No transition\n\t\telse {\n\t\t\tthis.#contentElement.style.height = this.#contentHeight + \"px\";\n\t\t\tthis.#contentElement.style.padding = this.#contentPadding;\n\t\t\tthis.#contentElement.style.display = this.#contentDisplay;\n\t\t}\n\t}\n\n\ttoggle () {\n\t\tif (this.state === `collapsed`) {\n\t\t\tthis.open();\n\t\t} else {\n\t\t\tthis.collapse();\n\t\t}\n\t}\n\n}\n"],"names":["Carousel","static","element","id","cols","rows","transition","duration","modal","activePageIndex","items","pages","pagesElement","controlElement","indicatorElement","navigationElement","navlock","scrollAmount","isScrolling","externalIndicators","externalNavigations","totalPages","Math","ceil","this","length","numPageItems","selector","index","carouselElements","document","querySelectorAll","carouselElement","push","window","addEventListener","resizeListener","initExternalIndicators","initExternalNavigations","carousel","resize","indicator","carouselId","dataset","find","navigation","prevButton","querySelector","nextButton","back","forward","constructor","parseInt","initEventListeners","initPages","createElement","classList","add","appendChild","innerHTML","pageNum","pageColSpan","itemIndex","item","colspan","rowspan","page","style","width","height","initControlElement","initIndicator","pageIndex","indicatorButton","setActivePage","initNavigation","event","abs","deltaX","preventDefault","scroll","startPos","touches","clientX","touchmove","moveevent","delta","touchend","removeEventListener","getBoundingClientRect","min","direction","currentPage","targetPage","transitionDirection","updateIndicator","updatePages","setTimeout","buttons","buttonIndex","button","remove","fromPage","transform","animate","easing","targetIndex","amount","elementWidth","clearTimeout","sign","nextPage","Gallery","galleryElements","console","log","galleryElement","gallery","galleryId","floor","customClickEvent","defaultClickEvent","itemElement","functionName","fn","itemData","Object","assign","trigger","Map","config","callback","apiKey","initCallback","loadScript","error","script","src","async","head","isInitialized","Popup","google","maps","OverlayView","position","container","content","data","super","tip","contentElement","nunjucks","renderString","cloneNode","preventMapHitsAndGesturesFrom","onAdd","getPanes","floatPane","onRemove","parentElement","removeChild","draw","divPosition","getProjection","fromLatLngToDivPixel","left","x","top","y","map","center","zoom","mapConfig","locations","customMarker","customMarkerClickEvent","customPopup","registry","undefined","forEach","locationData","locationId","MapLocation","addListener","location","removePopup","pan","panTo","LatLng","lat","lng","title","address","photos","phone","parentMap","marker","popup","externalTriggers","photo","drawMarker","markerConfig","icon","Marker","markerClicked","drawPopup","eventHandler","triggerMarkerClick","setMap","registerTrigger","Modal","toggleElements","state","value","initContainer","initBackdrop","modalElements","modalIndex","modalElement","openModal","initModalToggles","containerElement","body","backdropElement","toggle","opacity","getById","open","moda","close","closeButton","openContainer","closeContainer","Rating","rating","ratio","step","initDefaults","elements","defaultSelector","i","register","defaults","instance","objectConfig","proto","parseFloat","initRating","fill","Slider","activeSlideIndex","slides","slidesElement","isFlexible","totalSlides","defaultTransition","defaultDuration","defaultEasing","sliderElements","sliderElement","slider","sliderId","contains","initSlides","slideIndex","slide","updateFlexibleSize","slideHeight","setActiveSlide","currentSlide","targetSlide","updateSlides","fromSlide","display","nextSlide","Stack","totalInstances","layout","justify","minRows","minCols","align","autoplay","size","activeIndex","configure","initControls","initExternalControls","existingContainer","pageCols","calculatePagePosition","z","zIndex","calculatePageZIndex","target","nav","goToPage","existingControl","existingIndicator","existingNavigation","prevIndex","updateIndicators","updateExternalIndicators","indicatorButtons","fromIndex","targetTransform","Tab","activePage","el","initNav","initExternalNav","TabPage","TabNav","externalNavs","externalNav","activate","deactivate","refresh","tabId","tab","isActive","Tagger","targetImage","tagPoints","imageDimension","taggers","tagger","repositionTags","initTagPoints","tagElements","tagElement","label","tagPoint","TagPoint","taggerId","setPosition","xPos","clientWidth","yPos","clientHeight","Accordion","padding","collapse"],"sourceRoot":""}