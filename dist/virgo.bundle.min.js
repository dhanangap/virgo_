!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Virgo=e():t.Virgo=e()}(self,(function(){return(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Tab:()=>o});class i{constructor(t,e){const i=e.id?e.id:void 0;this.element=t,this.id=this.element.id?this.element.id:i,this.selector=e.selector?e.selector:void 0,this.data={},this.config=e,this.id&&(this.element.id=this.id)}static generateId(){return this.className+"-"+this.registry.length}static init(t,e){const i=t||`.${this.className}`,s=document.querySelectorAll(i);for(const t of s)this.registry.push(new this(t,Object.assign(Object.assign(Object.assign({},t.dataset),e),{selector:i,id:this.generateId()})))}}i.className="component",i.registry=[];class s extends i{constructor(t,e){super(t,e),e&&(this.tab=e.tab,this.target=e.target),void 0!==this.target&&(this.element.dataset.target=this.target+""),this.initEvents(),this.update()}get active(){return this.element.classList.contains("active")}set active(t){t?this.element.classList.add("active"):this.element.classList.remove("active")}initEvents(){this.element.addEventListener("click",(()=>{this.tab.goTo(this.target)}))}update(){this.active=this.target===this.tab.active}}class a extends i{constructor(t,e){super(t,e),this.buttons=[],e&&(this.tab=e.tab),this.initButtons("button")}initButtons(t){const e=this.element.querySelectorAll(t);for(let i=0;i<e.length;i++)this.buttons.push(new s(e[i],{selector:t,id:e[i].id?e[i].id:void 0,tab:this.tab,target:i}))}}class n extends i{constructor(t,e){super(t,e),e&&(this.tab=e.tab,this.index=e.index,this.active=null!=e.active&&e.active),void 0!==this.index&&(this.element.dataset.index=this.index.toString()),this.update()}get active(){return this.element.classList.contains("active")}set active(t){t?this.element.classList.add("active"):this.element.classList.remove("active")}update(){this.active=this.index===this.tab.active,this.element.classList.remove("before","after"),this.active||(this.index<this.tab.active?this.element.classList.add("before"):this.element.classList.add("after"))}}class o extends i{constructor(t,e){super(t,e),this.active=0,this.transition="none",this.nav=void 0,this.pages=[],e&&(this.active=isNaN(parseInt(e.active))?e.active:parseInt(e.active),this.transition=e.transition?e.transition:"none"),this.initNav(".nav"),this.initPages(".pages .page"),this.initEvents(),this.updateHeight()}initNav(t){const e=this.element.querySelector(t);this.nav=new a(e,{selector:t,id:e.id?e.id:void 0,tab:this})}initPages(t){const e=this.element.querySelectorAll(t);for(let i=0;i<e.length;i++)this.pages.push(new n(e[i],{selector:t,id:e[i].id?e[i].id:void 0,tab:this,index:i,active:i===this.active}))}initEvents(){window&&window.addEventListener("resize",(()=>{this.updateHeight()}))}updateHeight(){let t=0,e=this.pages.find((t=>t.active));const i=window.getComputedStyle(this.nav.element),s=window.getComputedStyle(e.element);t+=parseFloat(i.getPropertyValue("margin-top")),t+=parseFloat(i.getPropertyValue("margin-bottom")),t=t+this.nav.element.offsetHeight+1,t+=parseFloat(s.getPropertyValue("margin-top")),t+=parseFloat(s.getPropertyValue("margin-bottom")),t+=e.element.offsetHeight,this.element.style.height=t+"px"}goTo(t){let e;this.pages.find((t=>t.index===this.active)),"number"==typeof t?e=this.pages.find((e=>e.index===t)):"string"==typeof t&&(e=this.pages.find((e=>e.id===t))),e&&(this.active=e.index,this.nav.buttons.forEach((t=>{t.update()})),this.pages.forEach((t=>{t.update()})),this.updateHeight())}}return o.className="tab",window&&window.addEventListener("DOMContentLoaded",(t=>{o.init()})),e})()}));
//# sourceMappingURL=virgo.bundle.min.js.map