!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Virgo=e():t.Virgo=e()}(self,(function(){return(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Dropdown:()=>a,Tab:()=>c});class i{constructor(t,e={}){const i=e.id?e.id:void 0;this.element=t,this.id=this.element.id?this.element.id:i,this.selector=e.selector?e.selector:void 0,this.data={},this.config=e,this.id&&(this.element.id=this.id)}static generateId(){return this.className+"-"+this.registry.length}static init(t,e){const i=t||`.${this.className}`,s=document.querySelectorAll(i);for(const t of s)this.registry.push(new this(t,Object.assign(Object.assign(Object.assign({},t.dataset),e),{selector:i,id:this.generateId()})))}}i.className="component",i.registry=[];class s extends i{}class n extends i{}class a extends i{constructor(t,e){super(t,e),this.transition="none",e&&(this.transition=e.transition?e.transition:"none"),this.button=new s(this.element.querySelector("button")),this.menu=new n(this.element.querySelector(".menu"))}}a.className="dropdown";class o extends i{constructor(t,e){super(t,e),e&&(this.tab=e.tab,this.target=e.target),void 0!==this.target&&(this.element.dataset.target=this.target+""),this.initEvents(),this.update()}get active(){return this.element.classList.contains("active")}set active(t){t?this.element.classList.add("active"):this.element.classList.remove("active")}initEvents(){this.element.addEventListener("click",(()=>{this.tab.goTo(this.target)}))}update(){this.active=this.target===this.tab.active}}class r extends i{constructor(t,e){super(t,e),this.buttons=[],e&&(this.tab=e.tab),this.initButtons("button"),this.initEvents(),this.update(),this.updateOverflowNav()}initButtons(t){const e=this.element.querySelectorAll(t);for(let i=0;i<e.length;i++)this.buttons.push(new o(e[i],{selector:t,id:e[i].id?e[i].id:void 0,tab:this.tab,target:i}))}initEvents(){this.element.addEventListener("scroll",(t=>{this.updateOverflowNav()}))}update(){this.element.scrollWidth>this.element.offsetWidth?this.addOverflowNav():this.removeOverflowNav()}addOverflowNav(){if(!this.tab.element.querySelector(".tab-nav-overflow")){let t=document.createElement("div");t.setAttribute("class","tab-nav-overflow"),t.innerHTML='<button class="tab-nav-prev"> <i class="icon">chevron_left</i> </button> <button class="tab-nav-next"> <i class="icon">chevron_right</i> </button>',this.tab.element.appendChild(t);const e=t.querySelector(".tab-nav-prev");e&&e.addEventListener("click",(()=>{this.element.scroll({left:this.element.scrollLeft-this.element.scrollWidth/3,behavior:"smooth"})}));const i=t.querySelector(".tab-nav-next");i&&i.addEventListener("click",(()=>{this.element.scroll({left:this.element.scrollLeft+this.element.scrollWidth/3,behavior:"smooth"})}))}}removeOverflowNav(){let t=this.tab.element.querySelector(".tab-nav-overflow");t&&t.remove()}updateOverflowNav(){if(this.element.scrollLeft>0){let t=this.tab.element.querySelector(".tab-nav-overflow .tab-nav-prev");t&&t.classList.remove("hidden")}else{let t=this.tab.element.querySelector(".tab-nav-overflow .tab-nav-prev");t&&t.classList.add("hidden")}if(this.element.scrollLeft<this.element.scrollWidth-this.element.offsetWidth){let t=this.tab.element.querySelector(".tab-nav-overflow .tab-nav-next");t&&t.classList.remove("hidden")}else{let t=this.tab.element.querySelector(".tab-nav-overflow .tab-nav-next");t&&t.classList.add("hidden")}}}class l extends i{constructor(t,e){super(t,e),e&&(this.tab=e.tab,this.index=e.index,this.active=null!=e.active&&e.active),void 0!==this.index&&(this.element.dataset.index=this.index.toString()),this.update()}get active(){return this.element.classList.contains("active")}set active(t){t?this.element.classList.add("active"):this.element.classList.remove("active")}update(){this.active=this.index===this.tab.active,this.element.classList.remove("before","after"),this.active||(this.index<this.tab.active?this.element.classList.add("before"):this.element.classList.add("after"))}}class c extends i{constructor(t,e){super(t,e),this.active=0,this.transition="none",this.nav=void 0,this.pages=[];let i=".nav",s=".pages .page";e&&(this.active=isNaN(parseInt(e.active))?e.active:parseInt(e.active),this.transition=e.transition?e.transition:"none",e.navSelector&&(i=e.navSelector),e.pageSelector&&(s=e.pageSelector)),this.initNav(i),this.initPages(s),this.initEvents(),this.updateHeight()}initNav(t){const e=this.element.querySelector(t);this.nav=new r(e,{selector:t,id:e.id?e.id:void 0,tab:this})}initPages(t){const e=this.element.querySelectorAll(t);for(let i=0;i<e.length;i++)this.pages.push(new l(e[i],{selector:t,id:e[i].id?e[i].id:void 0,tab:this,index:i,active:i===this.active}))}initEvents(){window&&window.addEventListener("resize",(()=>{this.updateHeight()}))}updateHeight(){let t=this.element.querySelector(".pages"),e=this.pages.find((t=>t.active));t&&e&&(t.style.height=e.element.offsetHeight+"px")}goTo(t){let e;this.pages.find((t=>t.index===this.active)),"number"==typeof t?e=this.pages.find((e=>e.index===t)):"string"==typeof t&&(e=this.pages.find((e=>e.id===t))),e&&(this.active=e.index,this.nav.buttons.forEach((t=>{t.update()})),this.pages.forEach((t=>{t.update()})),this.updateHeight())}}return c.className="tab",window&&window.addEventListener("DOMContentLoaded",(t=>{a.init(),c.init()})),e})()}));
//# sourceMappingURL=virgo.bundle.min.js.map