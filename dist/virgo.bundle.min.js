!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Virgo=e():t.Virgo=e()}(self,(function(){return(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Accordion:()=>d,Carousel:()=>h,Gallery:()=>c,Map:()=>m,Modal:()=>g,Rating:()=>p,Slider:()=>v,Stack:()=>f,Tab:()=>E,Tagger:()=>I});var i,s,a,n,l,o=function(t,e,i,s,a){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?a.call(t,i):a?a.value=i:e.set(t,i),i},r=function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};class d{constructor(t,e=null){i.set(this,void 0),s.set(this,void 0),a.set(this,void 0),n.set(this,void 0),l.set(this,void 0);const h=d,c=e||t.dataset;this.element=t,this.id=t.id?t.id:h.defaults.id+h.totalInstances,this.transition=c.transition?c.transition:h.defaults.transition,this.duration=c.duration?c.duration:h.defaults.duration,this.easing=c.easing?c.easing:h.defaults.easing,this.element.id=this.id,o(this,i,t.querySelector(".toggle"),"f"),o(this,s,t.querySelector(".content"),"f"),o(this,a,function(t){let e=0;for(const i of t.children){const t=i,s=window.getComputedStyle(t);e+=t.offsetHeight,e+=parseFloat(s.getPropertyValue("margin-top")),e+=parseFloat(s.getPropertyValue("margin-bottom"))}return e}(r(this,s,"f")),"f"),o(this,n,""===r(this,s,"f").style.padding?"0px":r(this,s,"f").style.padding,"f"),this.setDefaultStyle(),this.hide(),r(this,i,"f").addEventListener("click",(()=>{this.toggle()}))}static get totalInstances(){return this.registry.length}set state(t){this.element.dataset.state=t}get state(){return this.element.dataset.state}static init(t=null,e=null){this.initDefaults();for(let i of document.querySelectorAll(t||this.defaultSelector))this.register(new this(i,e));this.isInitialized=!0}static initDefaults(){this.defaultSelector='[data-component="accordion"]',this.defaults.id="accordion-",this.defaults.transition="slide",this.defaults.duration=300,this.defaults.easing="ease-out",this.defaults.state="collapsed"}static register(t){this.registry.push(t)}static getById(t){return this.registry.find((e=>e.id===t))}setDefaultStyle(){r(this,s,"f").style.overflow="hidden"}hide(){this.state="collapsed",r(this,s,"f").style.height="0px",r(this,s,"f").style.padding="0px"}collapse(){this.state="collapsed","slide"===this.transition?(r(this,s,"f").animate([{height:r(this,a,"f")+"px",padding:r(this,n,"f")},{height:"0px",padding:"0px"}],{duration:this.duration,easing:this.easing}),setTimeout((()=>{r(this,s,"f").style.height="0px",r(this,s,"f").style.padding="0px"}),this.duration)):(r(this,s,"f").style.height="0px",r(this,s,"f").style.padding="0px")}open(){this.state="open","slide"===this.transition?(r(this,s,"f").animate([{height:"0px",padding:"0px"},{height:r(this,a,"f")+"px",padding:r(this,n,"f")}],{duration:this.duration,easing:this.easing}),setTimeout((()=>{r(this,s,"f").style.height=r(this,a,"f")+"px",r(this,s,"f").style.padding=r(this,n,"f")}),this.duration)):(r(this,s,"f").style.height=r(this,a,"f")+"px",r(this,s,"f").style.padding=r(this,n,"f"))}toggle(){"collapsed"===this.state?this.open():this.collapse()}}i=new WeakMap,s=new WeakMap,a=new WeakMap,n=new WeakMap,l=new WeakMap,d.isInitialized=!1,d.defaultSelector="",d.defaults={},d.registry=[];class h{static selector;static index;static externalIndicators;static externalNavigations;element;id;cols;rows;transition;duration;modal;activePageIndex;items;pages;pagesElement;controlElement;indicatorElement;navigationElement;navlock;scrollAmount;isScrolling;externalIndicators;externalNavigations;get totalPages(){return Math.ceil(this.items.length/this.numPageItems)}get numPageItems(){return this.cols*this.rows}static init(){this.selector=".carousel",this.index=[],this.externalIndicators={},this.externalNavigations={};let t=document.querySelectorAll(this.selector);if(t.length>0){for(let e=0;e<t.length;e++){const i=t[e];this.index.push(new this(e,i))}window.addEventListener("resize",(()=>{this.resizeListener()}))}this.initExternalIndicators(),this.initExternalNavigations()}static resizeListener(){for(const t of this.index)t.resize()}static initExternalIndicators(){let t=document.querySelectorAll("[data-carousel-indicator]");for(const e of t){const t=e.dataset.carouselIndicator,i=this.index.find((e=>e.id===t));i&&(this.externalIndicators[t]||(this.externalIndicators[t]=[]),this.externalIndicators[t].push(e),i.initExternalIndicators())}}static initExternalNavigations(){let t=document.querySelectorAll("[data-carousel-navigation]");for(const e of t){const t=e.dataset.carouselNavigation,i=this.index.find((e=>e.id===t));if(i){this.externalNavigations[t]||(this.externalNavigations[t]=[]),this.externalNavigations[t].push(e);let s=e.querySelector('[data-navigation="prev"]'),a=e.querySelector('[data-navigation="next"]');s&&s.addEventListener("click",(()=>{i.back()})),a&&a.addEventListener("click",(()=>{i.forward()}))}}}constructor(t,e){this.element=e,this.id=e.id?e.id:`carousel-${t}`,e.id=this.id,this.cols=e.dataset.cols?parseInt(e.dataset.cols):1,this.rows=e.dataset.rows?parseInt(e.dataset.rows):1,this.transition=e.dataset.transition?e.dataset.transition:"default",this.duration=e.dataset.duration?parseInt(e.dataset.duration):500,this.modal=e.dataset.modal?e.dataset.modal:null,this.activePageIndex=e.dataset.active?parseInt(e.dataset.active):0,this.items=e.querySelectorAll(".item"),this.pages=[],this.navlock=!1,this.scrollAmount=0,this.resize(),this.initEventListeners()}initPages(){this.pagesElement||(this.pagesElement=document.createElement("div"),this.pagesElement.classList.add("pages"),this.element.appendChild(this.pagesElement)),this.pages=[],this.pagesElement.innerHTML="";let t=0,e=0;for(let i=0;i<this.items.length;i++){let s=this.items[i],a=s.dataset.colspan?parseInt(s.dataset.colspan):1,n=s.dataset.rowspan?parseInt(s.dataset.rowspan):1;if(a>this.cols&&(a=this.cols),e+a>this.cols?(t++,e=a):e+=a,!this.pages[t]){let e=document.createElement("div");e.classList.add("page"),t===this.activePageIndex&&e.classList.add("active"),this.pagesElement.appendChild(e),this.pages.push(e)}this.pages[t].appendChild(s),s.style.width=a/this.cols*100+"%",s.style.height=n/this.rows*100+"%"}}initControlElement(){this.controlElement||(this.controlElement=document.createElement("div"),this.controlElement.classList.add("control"),this.element.appendChild(this.controlElement))}initIndicator(){this.indicatorElement||(this.indicatorElement=document.createElement("div"),this.indicatorElement.classList.add("indicator"),this.controlElement.appendChild(this.indicatorElement)),this.indicatorElement.innerHTML="";for(let t=0;t<this.totalPages;t++){let e=document.createElement("button");e.dataset.target=t,t===this.activePageIndex&&e.classList.add("active"),this.indicatorElement.appendChild(e),e.addEventListener("click",(()=>{this.setActivePage(t)}))}}initExternalIndicators(){if(h.externalIndicators[this.id])for(let t of h.externalIndicators[this.id]){t.innerHTML="";for(let e=0;e<this.totalPages;e++){let i=document.createElement("button");i.dataset.target=e,e===this.activePageIndex&&i.classList.add("active"),t.appendChild(i),i.addEventListener("click",(()=>{this.setActivePage(e)}))}}}initNavigation(){this.navigationElement||(this.navigationElement=document.createElement("div"),this.navigationElement.classList.add("navigation"),this.controlElement.appendChild(this.navigationElement)),this.navigationElement.innerHTML="";let t=document.createElement("button");t.classList.add("prev"),this.navigationElement.appendChild(t),t.addEventListener("click",(()=>{this.back()}));let e=document.createElement("button");e.classList.add("next"),e.addEventListener("click",(()=>{this.forward()})),this.navigationElement.appendChild(e)}initEventListeners(){this.element.addEventListener("wheel",(t=>{Math.abs(t.deltaX)>0&&(t.preventDefault(),this.scroll(t.deltaX))})),this.element.addEventListener("touchstart",(t=>{let e=t.touches[0].clientX;const i=t=>{const i=e-t.touches[0].clientX;this.scroll(i),e=t.touches[0].clientX},s=()=>{this.element.removeEventListener("touchmove",i),this.element.removeEventListener("touchend",s)};this.element.addEventListener("touchmove",i),this.element.addEventListener("touchend",s)}))}resize(){this.element.getBoundingClientRect().width<=450?this.cols=Math.min(this.cols,1):this.cols=this.element.dataset.cols?parseInt(this.element.dataset.cols):1,this.activePageIndex>=this.totalPages&&(this.activePageIndex=this.totalPages-1),this.items.length>0&&(this.initPages(),this.initControlElement(),this.initIndicator(),this.initNavigation(),this.initExternalIndicators())}setActivePage(t,e=null){if(!this.navlock){let i=this.pages[this.activePageIndex],s=this.pages[t],a=e||(t-this.activePageIndex)/Math.abs(t-this.activePageIndex);if(!s)return;this.activePageIndex=t,this.navlock=!0,this.updateIndicator(),this.updatePages(i,s,a),setTimeout((()=>{this.navlock=!1}),this.duration+500)}}updateIndicator(){if(this.indicatorElement){let t=this.indicatorElement.querySelectorAll("button");for(let e=0;e<t.length;e++){let i=t[e];i.classList.remove("active"),e===this.activePageIndex&&i.classList.add("active")}}if(h.externalIndicators[this.id])for(const t of h.externalIndicators[this.id]){let e=t.querySelectorAll("button");for(let t=0;t<e.length;t++){let i=e[t];i.classList.remove("active"),t===this.activePageIndex&&i.classList.add("active")}}}updatePages(t,e,i=1){if(this.pages){"none"!==this.transition&&("slide"!==this.transition&&"default"!==this.transition||(""===t.style.transform&&(t.style.transform="translate3d(0, 0, 0)"),""===e.style.transform&&(e.style.transform=`translate3d(${100*i}%, 0, 0)`),t.animate([{transform:t.style.transform},{transform:`translate3d(${-100*i}%, 0, 0)`}],{duration:this.duration,easing:"ease-out"}),e.animate([{transform:e.style.transform},{transform:"translate3d(0, 0, 0)"}],{duration:this.duration,easing:"ease-out"}),setTimeout((()=>{t.style.transform="",e.style.transform="translate3d(0, 0, 0)"}),300)));for(let t=0;t<this.pages.length;t++){let e=this.pages[t];e.classList.remove("active"),t===this.activePageIndex&&e.classList.add("active")}}}back(){let t=this.activePageIndex-1;t<0&&(t=this.totalPages-1),this.setActivePage(t,-1)}forward(){let t=this.activePageIndex+1;t>=this.totalPages&&(t=0),this.setActivePage(t,1)}scroll(t){const e=this.element.getBoundingClientRect().width;if(!this.navlock){this.isScrolling&&window.clearTimeout(this.isScrolling),this.scrollAmount-=t,Math.abs(this.scrollAmount)>e&&(this.scrollAmount=Math.sign(this.scrollAmount)*e);let i,s=this.pages[this.activePageIndex];t>0?(i=this.activePageIndex+1<this.pages.length?this.pages[this.activePageIndex+1]:this.pages[0],i.style.transform=`translate3d(calc(100% + ${this.scrollAmount}px), 0, 0)`):(i=this.activePageIndex-1<0?this.pages[this.pages.length-1]:this.pages[this.activePageIndex-1],i.style.transform=`translate3d(calc(${this.scrollAmount}px - 100%), 0, 0)`),s.style.transform=`translate3d(${this.scrollAmount}px, 0, 0)`,this.isScrolling=setTimeout((()=>{this.navlock=!0,this.scrollAmount<=-.3*e?(this.navlock=!1,this.forward()):this.scrollAmount>=.3*e?(this.navlock=!1,this.back()):(s.animate([{transform:s.style.transform},{transform:"translate3d(0, 0, 0)"}],{duration:this.duration,easing:"ease-out"}),s.style.transform="translate3d(0, 0, 0)",t>0?(i.animate([{transform:i.style.transform},{transform:"translate3d(100%, 0, 0)"}],{duration:this.duration,easing:"ease-out"}),i.style.transform=""):(i.animate([{transform:i.style.transform},{transform:"translate3d(-100%, 0, 0)"}],{duration:this.duration,easing:"ease-out"}),i.style.transform=""),this.navlock=!1),this.scrollAmount=0}),50)}}}window&&(window.Carousel=h);class c{static selector;static index;static externalIndicators;static externalNavigations;element;id;cols;rows;transition;duration;modal;activePageIndex;items;pages;pagesElement;controlElement;indicatorElement;navigationElement;navlock;scrollAmount;isScrolling;externalIndicators;externalNavigations;get totalPages(){return Math.ceil(this.items.length/this.numPageItems)}get numPageItems(){return this.cols*this.rows}static init(){this.selector=".gallery",this.index=[],this.externalIndicators={},this.externalNavigations={};let t=document.querySelectorAll(this.selector);if(console.log(t.length),t.length>0){for(let e=0;e<t.length;e++){const i=t[e];this.index.push(new this(e,i))}window.addEventListener("resize",(()=>{this.resizeListener()}))}this.initExternalIndicators(),this.initExternalNavigations()}static resizeListener(){for(const t of this.index)t.resize()}static initExternalIndicators(){let t=document.querySelectorAll("[data-gallery-indicator]");for(const e of t){const t=e.dataset.galleryIndicator,i=this.index.find((e=>e.id===t));i&&(this.externalIndicators[t]||(this.externalIndicators[t]=[]),this.externalIndicators[t].push(e),i.initExternalIndicators())}}static initExternalNavigations(){let t=document.querySelectorAll("[data-gallery-navigation]");for(const e of t){const t=e.dataset.galleryNavigation,i=this.index.find((e=>e.id===t));if(i){this.externalNavigations[t]||(this.externalNavigations[t]=[]),this.externalNavigations[t].push(e);let s=e.querySelector('[data-navigation="prev"]'),a=e.querySelector('[data-navigation="next"]');s&&s.addEventListener("click",(()=>{i.back()})),a&&a.addEventListener("click",(()=>{i.forward()}))}}}constructor(t,e){this.element=e,this.id=e.id?e.id:`gallery-${t}`,e.id=this.id,this.cols=e.dataset.cols?parseInt(e.dataset.cols):1,this.rows=e.dataset.rows?parseInt(e.dataset.rows):1,this.transition=e.dataset.transition?e.dataset.transition:"default",this.duration=e.dataset.duration?parseInt(e.dataset.duration):500,this.modal=e.dataset.modal?e.dataset.modal:null,this.activePageIndex=e.dataset.active?parseInt(e.dataset.active):0,this.items=e.querySelectorAll(".item"),this.pages=[],this.navlock=!1,this.scrollAmount=0,this.resize(),this.initEventListeners()}initPages(){this.pagesElement||(this.pagesElement=document.createElement("div"),this.pagesElement.classList.add("pages"),this.element.appendChild(this.pagesElement)),this.pages=[],this.pagesElement.innerHTML="";for(let t=0;t<this.totalPages;t++){let e=document.createElement("div");e.classList.add("page"),t===this.activePageIndex&&e.classList.add("active"),this.pagesElement.appendChild(e),this.pages.push(e)}for(let t=0;t<this.items.length;t++){const e=Math.floor(t/this.numPageItems);let i=this.items[t];this.pages[e].appendChild(i),i.style.width=1/this.cols*100+"%",i.style.height=1/this.rows*100+"%",i.addEventListener("click",(()=>{i.dataset.click&&""!==i.dataset.click?this.customClickEvent(i):this.defaultClickEvent(i)}))}}initControlElement(){this.controlElement||(this.controlElement=document.createElement("div"),this.controlElement.classList.add("control"),this.element.appendChild(this.controlElement))}initIndicator(){this.indicatorElement||(this.indicatorElement=document.createElement("div"),this.indicatorElement.classList.add("indicator"),this.controlElement.appendChild(this.indicatorElement)),this.indicatorElement.innerHTML="";for(let t=0;t<this.totalPages;t++){let e=document.createElement("button");e.dataset.target=t,t===this.activePageIndex&&e.classList.add("active"),this.indicatorElement.appendChild(e),e.addEventListener("click",(()=>{this.setActivePage(t)}))}}initExternalIndicators(){if(c.externalIndicators[this.id])for(let t of c.externalIndicators[this.id]){t.innerHTML="";for(let e=0;e<this.totalPages;e++){let i=document.createElement("button");i.dataset.target=e,e===this.activePageIndex&&i.classList.add("active"),t.appendChild(i),i.addEventListener("click",(()=>{this.setActivePage(e)}))}}}initNavigation(){this.navigationElement||(this.navigationElement=document.createElement("div"),this.navigationElement.classList.add("navigation"),this.controlElement.appendChild(this.navigationElement)),this.navigationElement.innerHTML="";let t=document.createElement("button");t.classList.add("prev"),this.navigationElement.appendChild(t),t.addEventListener("click",(()=>{this.back()}));let e=document.createElement("button");e.classList.add("next"),e.addEventListener("click",(()=>{this.forward()})),this.navigationElement.appendChild(e)}initEventListeners(){this.element.addEventListener("wheel",(t=>{Math.abs(t.deltaX)>0&&(t.preventDefault(),this.scroll(t.deltaX))})),this.element.addEventListener("touchstart",(t=>{let e=t.touches[0].clientX;const i=t=>{const i=e-t.touches[0].clientX;this.scroll(i),e=t.touches[0].clientX},s=()=>{this.element.removeEventListener("touchmove",i),this.element.removeEventListener("touchend",s)};this.element.addEventListener("touchmove",i),this.element.addEventListener("touchend",s)}))}resize(){this.element.getBoundingClientRect().width<=450?this.cols=Math.min(this.cols,2):this.cols=this.element.dataset.cols?parseInt(this.element.dataset.cols):1,this.items.length>0&&(this.initPages(),this.initControlElement(),this.initIndicator(),this.initNavigation(),this.initExternalIndicators())}setActivePage(t,e=null){if(!this.navlock){let i=this.pages[this.activePageIndex],s=this.pages[t],a=e||(t-this.activePageIndex)/Math.abs(t-this.activePageIndex);if(!s)return;this.activePageIndex=t,this.navlock=!0,this.updateIndicator(),this.updatePages(i,s,a),setTimeout((()=>{this.navlock=!1}),this.duration+500)}}updateIndicator(){if(this.indicatorElement){let t=this.indicatorElement.querySelectorAll("button");for(let e=0;e<t.length;e++){let i=t[e];i.classList.remove("active"),e===this.activePageIndex&&i.classList.add("active")}}if(c.externalIndicators[this.id])for(const t of c.externalIndicators[this.id]){let e=t.querySelectorAll("button");for(let t=0;t<e.length;t++){let i=e[t];i.classList.remove("active"),t===this.activePageIndex&&i.classList.add("active")}}}updatePages(t,e,i=1){if(this.pages){"none"!==this.transition&&("slide"!==this.transition&&"default"!==this.transition||(""===t.style.transform&&(t.style.transform="translate3d(0, 0, 0)"),""===e.style.transform&&(e.style.transform=`translate3d(${100*i}%, 0, 0)`),t.animate([{transform:t.style.transform},{transform:`translate3d(${-100*i}%, 0, 0)`}],{duration:this.duration,easing:"ease-out"}),e.animate([{transform:e.style.transform},{transform:"translate3d(0, 0, 0)"}],{duration:this.duration,easing:"ease-out"}),setTimeout((()=>{t.style.transform="",e.style.transform="translate3d(0, 0, 0)"}),300)));for(let t=0;t<this.pages.length;t++){let e=this.pages[t];e.classList.remove("active"),t===this.activePageIndex&&e.classList.add("active")}}}back(){let t=this.activePageIndex-1;t<0&&(t=this.totalPages-1),this.setActivePage(t,-1)}forward(){let t=this.activePageIndex+1;t>=this.totalPages&&(t=0),this.setActivePage(t,1)}scroll(t){const e=this.element.getBoundingClientRect().width;if(!this.navlock){this.isScrolling&&window.clearTimeout(this.isScrolling),this.scrollAmount-=t,Math.abs(this.scrollAmount)>e&&(this.scrollAmount=Math.sign(this.scrollAmount)*e);let i,s=this.pages[this.activePageIndex];t>0?(i=this.activePageIndex+1<this.pages.length?this.pages[this.activePageIndex+1]:this.pages[0],i.style.transform=`translate3d(calc(100% + ${this.scrollAmount}px), 0, 0)`):(i=this.activePageIndex-1<0?this.pages[this.pages.length-1]:this.pages[this.activePageIndex-1],i.style.transform=`translate3d(calc(${this.scrollAmount}px - 100%), 0, 0)`),s.style.transform=`translate3d(${this.scrollAmount}px, 0, 0)`,this.isScrolling=setTimeout((()=>{this.navlock=!0,this.scrollAmount<=-.3*e?(this.navlock=!1,this.forward()):this.scrollAmount>=.3*e?(this.navlock=!1,this.back()):(s.animate([{transform:s.style.transform},{transform:"translate3d(0, 0, 0)"}],{duration:this.duration,easing:"ease-out"}),s.style.transform="translate3d(0, 0, 0)",t>0?(i.animate([{transform:i.style.transform},{transform:"translate3d(100%, 0, 0)"}],{duration:this.duration,easing:"ease-out"}),i.style.transform=""):(i.animate([{transform:i.style.transform},{transform:"translate3d(-100%, 0, 0)"}],{duration:this.duration,easing:"ease-out"}),i.style.transform=""),this.navlock=!1),this.scrollAmount=0}),50)}}customClickEvent(t){const e=t.dataset.click;if(!e)return;const i=window[e];i&&i({galleryId:this.id,itemData:Object.assign({},t.dataset),trigger:t})}defaultClickEvent(t){this.modal}}window&&(window.Gallery=c);class m{static apiKey;static initCallback;static isInitialized=!1;static registry=[];static Popup;static init(t,e){t.apiKey?(this.apiKey=t.apiKey,e&&(this.initCallback=e),this.loadScript()):console.error("Please provide Google Maps JavaScript API Key.")}static loadScript(){let t=document.createElement("script");t.src=`https://maps.googleapis.com/maps/api/js?key=${this.apiKey}&libraries=drawing&callback=Map.loaded`,t.async=!0,document.head.appendChild(t)}static loaded(){this.isInitialized=!0,this.Popup=class extends google.maps.OverlayView{position;container;constructor(t,e,i){super(),this.position=t,this.container=document.createElement("div"),this.container.classList.add("popup-container");const s=document.createElement("div");if(s.classList.add("popup-tip"),this.container.appendChild(s),"string"==typeof e){const t=document.createElement("div");t.classList.add("popup-content"),t.innerHTML=nunjucks.renderString(e,i),s.appendChild(t)}else{const t=e.cloneNode(!0);t.classList.add("popup-content"),s.appendChild(t)}this.constructor.preventMapHitsAndGesturesFrom(this.container)}onAdd(){this.getPanes().floatPane.appendChild(this.container)}onRemove(){this.container.parentElement&&this.container.parentElement.removeChild(this.container)}draw(){const t=this.getProjection().fromLatLngToDivPixel(this.position);this.container.style.left=t.x+"px",this.container.style.top=t.y+"px"}},this.initCallback&&this.initCallback()}id;element;map;center;zoom;mapConfig;locations;customMarker;customMarkerClickEvent;customPopup;constructor(t,e){this.constructor.isInitialized?(this.element=document.querySelector(t),this.element?(this.id=this.element.id?this.element.id:`map-${this.constructor.registry.length}`,this.element.id=this.id,e.mapConfig&&(this.mapConfig=e.mapConfig),this.center=e.center?e.center:this.mapConfig.center,this.zoom=e.zoom?e.zoom:this.mapConfig.zoom,this.map=new google.maps.Map(this.element,{...this.mapConfig,center:this.center,zoom:this.zoom}),this.locations=[],this.customMarker=e.customMarker?e.customMarker:void 0,this.customMarkerClickEvent=e.customClickEvent?e.customMarkerClickEvent:void 0,this.customPopup=e.customPopup?e.customPopup:void 0,e.locations&&e.locations.forEach((t=>{const e="location-"+this.locations.length;new u(e,this,{...t,customClickEvent:this.customMarkerClickEvent})})),this.map.addListener("click",(()=>{this.locations.forEach((t=>{t.removePopup()}))}))):console.error(`Element with selector ${t} is not found.`)):console.error("Please initialize Map class first using Map.init(config).")}pan(t){this.map.panTo(new google.maps.LatLng(t.lat+.085,t.lng-.06))}}class u{id;title;address;position;photos;phone;data;parentMap;marker;popup;customClickEvent;externalTriggers;constructor(t,e,i){this.parentMap=e,this.id=t,this.title=i.title?i.title:null,this.address=i.address?i.address:null,this.photos=i.photos?i.photos:[],this.phone=i.phone?i.phone:[],this.data=i.data?i.data:{},i.photo&&this.photos.push(i.photo),this.externalTriggers=[],this.position={lat:i.lat,lng:i.lng},this.drawMarker(),this.parentMap.locations.push(this)}drawMarker(){let t={position:this.position,map:this.parentMap.map};this.parentMap.customMarker&&(t.icon=this.parentMap.customMarker),this.marker=new google.maps.Marker(t),this.marker.addListener("click",(()=>{this.markerClicked()}))}markerClicked(){this.parentMap.pan(this.position),this.parentMap.locations.forEach((t=>{t.removePopup()})),this.parentMap.customPopup&&this.drawPopup(),this.customClickEvent&&this.customClickEvent(),this.externalTriggers.forEach((t=>{t.eventHandler&&t.eventHandler()}))}triggerMarkerClick(){this.markerClicked()}drawPopup(){this.popup=new m.Popup(new google.maps.LatLng(this.position.lat,this.position.lng),this.parentMap.customPopup,{title:this.title,address:this.address,photos:this.photos,phone:this.phone}),this.popup.setMap(this.parentMap.map)}removePopup(){this.popup&&this.popup.setMap(null)}registerTrigger(t,e){t.addEventListener("click",(()=>{this.triggerMarkerClick()})),this.externalTriggers.push({element:t,eventHandler:e})}}window.Map=m,window.MapLocation=u;class g{static index;static containerElement;static backdropElement;static openModal;element;id;transition;duration;toggleElements;get state(){return this.element.dataset.state}set state(t){this.element.dataset.state=t}static init(){this.index=[],this.initContainer(),this.initBackdrop();let t=document.querySelectorAll(".modal");for(let e=0;e<t.length;e++){let i=t[e];this.index.push(new this(e,i))}this.openModal=null,this.initModalToggles()}static getById(t){return this.index.find((e=>e.id===t))}static initContainer(){this.containerElement||(this.containerElement=document.querySelector(".modal-container"),this.containerElement||(this.containerElement=document.createElement("div"),this.containerElement.classList.add("modal-container"),this.containerElement.dataset.state="hidden",document.body.appendChild(this.containerElement)))}static initBackdrop(){this.containerElement&&(this.backdropElement=this.containerElement.querySelector(".modal-backdrop"),this.backdropElement||(this.backdropElement=document.createElement("div"),this.backdropElement.classList.add("modal-backdrop"),this.containerElement.appendChild(this.backdropElement)))}static initModalToggles(){let t=document.querySelectorAll("[data-modal-toggle]");for(let e of t){const t=this.index.find((t=>t.id===e.dataset.modalToggle));t&&e.addEventListener("click",(()=>{t.toggle()}))}}static openContainer(){this.containerElement.dataset.state="visible",this.containerElement.animate([{opacity:0},{opacity:1}],{duration:300,easing:"ease-out"})}static closeContainer(){this.containerElement.animate([{opacity:1},{opacity:0}],{duration:300,easing:"ease-out"}),setTimeout((()=>{this.containerElement.dataset.state="hidden",this.openModal=null}),300)}static closeAll(){}static open(t,e){let i=this.getById(t);i&&i.open(e)}static close(t){let e=this.getById(t);moda&&e.close()}constructor(t,e){this.element=e,this.id=this.element.id?this.element.id:`modal-${t}`,this.element.id=this.id,this.transition=this.element.dataset.transition?this.element.dataset.transition:"fade",this.duration=this.element.dataset.duration?parseInt(this.element.dataset.duration):300,this.state="closed",g.containerElement.appendChild(this.element);let i=this.element.querySelector("button.close");i&&i.addEventListener("click",(()=>{this.close()}))}open(t){g.openContainer(),"none"!==this.transition&&(this.element.animate([{opacity:0},{opacity:1}],{duration:this.duration,easing:"ease-out"}),this.element.style.opacity=1),this.state="open"}close(){"none"!==this.transition&&(this.element.animate([{opacity:1},{opacity:0}],{duration:this.duration,easing:"ease-out"}),this.element.style.opacity=0),setTimeout((()=>{this.state="closed",g.closeContainer()}),this.duration)}toggle(t){"closed"===this.state?this.open(t):this.close()}}window&&(window.Modal=g);class p{static isInitialized=!1;static defaultSelector="";static defaults={};static registry=[];id;rating;ratio;step;element;get value(){return this.rating/this.ratio}static init(t=null){this.isInitialized||this.initDefaults();let e=document.querySelectorAll(t||this.defaultSelector);for(let t=0;t<e.length;t++){let i=e[t];this.register(new this(t,i))}}static initDefaults(){this.defaultSelector='[data-component="rating"]',this.defaults.id="rating-",this.defaults.rating=0,this.defaults.ratio=10,this.defaults.step=.1,this.isInitialized=!0}static register(t){this.registry.push(t)}constructor(t,e,i=null){const s=this.constructor,a=i||e.dataset;s.isInitialized||s.initDefaults(),this.id=e.id?e.id:s.defaults.id+t,this.rating=a.rating?parseFloat(a.rating):s.defaults.rating,this.ratio=a.ratio?parseInt(a.ratio):s.defaults.ratio,this.step=a.step?parseFloat(a.step):s.defaults.step,this.element=e,this.initRating()}initRating(){this.element.innerHTML="";for(let t=1;t<=this.ratio;t++){let e=document.createElement("button"),i=document.createElement("div");i.classList.add("fill"),e.appendChild(i),this.element.appendChild(e),Math.floor(this.rating)>=t?i.style.width="100%":Math.ceil(this.rating)==t&&(i.style.width=100*(Math.ceil(this.rating)-this.rating)+"%")}}}window&&(window.Rating=p);class v{static index;static externalIndicators;static externalNavigations;static defaultTransition;static defaultDuration;static defaultEasing;element;id;transition;duration;easing;activeSlideIndex;slides;slidesElement;controlElement;indicatorElement;navigationElement;navlock;scrollAmount;isScrolling;externalIndicators;externalNavigations;isFlexible;get totalSlides(){return this.slides.length}static init(){this.index=[],this.externalIndicators={},this.externalNavigations={},this.defaultTransition="slide",this.defaultDuration=1e3,this.defaultEasing="cubic-bezier(0.370, 0.140, 0.110, 0.995)";let t=document.querySelectorAll(".slider");if(t.length>0){for(let e=0;e<t.length;e++){const i=t[e];this.index.push(new this(e,i))}window.addEventListener("resize",(()=>{this.resizeListener()}))}this.initExternalIndicators(),this.initExternalNavigations()}static resizeListener(){for(const t of this.index)t.resize()}static initExternalIndicators(){let t=document.querySelectorAll("[data-slider-indicator]");for(const e of t){const t=e.dataset.sliderIndicator,i=this.index.find((e=>e.id===t));i&&(this.externalIndicators[t]||(this.externalIndicators[t]=[]),this.externalIndicators[t].push(e),i.initExternalIndicators())}}static initExternalNavigations(){let t=document.querySelectorAll("[data-slider-navigation]");for(const e of t){const t=e.dataset.sliderNavigation,i=this.index.find((e=>e.id===t));if(i){this.externalNavigations[t]||(this.externalNavigations[t]=[]),this.externalNavigations[t].push(e);let s=e.querySelector('[data-navigation="prev"]'),a=e.querySelector('[data-navigation="next"]');s&&s.addEventListener("click",(()=>{i.back()})),a&&a.addEventListener("click",(()=>{i.forward()}))}}}constructor(t,e){this.element=e,this.id=e.id?e.id:`gallery-${t}`,e.id=this.id,this.transition=e.dataset.transition?e.dataset.transition:v.defaultTransition,this.duration=e.dataset.duration?parseInt(e.dataset.duration):v.defaultDuration,this.easing=e.dataset.easing?e.dataset.easing:v.defaultEasing,this.activeSlideIndex=e.dataset.active?parseInt(e.dataset.active):0,this.isFlexible=!!e.classList.contains("flexible"),e.dataset.active=this.activeSlideIndex,this.slidesElement=this.element.querySelector(".slides"),this.slides=this.slidesElement.querySelectorAll(".slide"),this.navlock=!1,this.scrollAmount=0,this.initSlides(),this.resize(),this.initEventListeners()}initSlides(){for(let t=0;t<this.totalSlides;t++){let e=this.slides[t];t===this.activeSlideIndex&&e.classList.add("active")}}updateFlexibleSize(){if(this.isFlexible){let t=this.slides[this.activeSlideIndex].getBoundingClientRect().height;this.slidesElement.style.height=`${t}px`}}initControlElement(){this.controlElement||(this.controlElement=document.createElement("div"),this.controlElement.classList.add("control"),this.element.appendChild(this.controlElement))}initIndicator(){this.indicatorElement||(this.indicatorElement=document.createElement("div"),this.indicatorElement.classList.add("indicator"),this.controlElement.appendChild(this.indicatorElement)),this.indicatorElement.innerHTML="";for(let t=0;t<this.totalSlides;t++){let e=document.createElement("button");e.dataset.target=t,t===this.activeSlideIndex&&e.classList.add("active"),this.indicatorElement.appendChild(e),e.addEventListener("click",(()=>{this.setActiveSlide(t)}))}}initExternalIndicators(){if(v.externalIndicators[this.id])for(let t of v.externalIndicators[this.id]){t.innerHTML="";for(let e=0;e<this.totalSlides;e++){let i=document.createElement("button");i.dataset.target=e,e===this.activeSlideIndex&&i.classList.add("active"),t.appendChild(i),i.addEventListener("click",(()=>{this.setActiveSlide(e)}))}}}initNavigation(){this.navigationElement||(this.navigationElement=document.createElement("div"),this.navigationElement.classList.add("navigation"),this.controlElement.appendChild(this.navigationElement)),this.navigationElement.innerHTML="";let t=document.createElement("button");t.classList.add("prev"),this.navigationElement.appendChild(t),t.addEventListener("click",(()=>{this.back()}));let e=document.createElement("button");e.classList.add("next"),e.addEventListener("click",(()=>{this.forward()})),this.navigationElement.appendChild(e)}initEventListeners(){this.element.addEventListener("wheel",(t=>{Math.abs(t.deltaX)>0&&(t.preventDefault(),this.scroll(t.deltaX))})),this.element.addEventListener("touchstart",(t=>{let e=t.touches[0].clientX;const i=t=>{const i=e-t.touches[0].clientX;this.scroll(i),e=t.touches[0].clientX},s=()=>{this.element.removeEventListener("touchmove",i),this.element.removeEventListener("touchend",s)};this.element.addEventListener("touchmove",i),this.element.addEventListener("touchend",s)}))}resize(){this.totalSlides>0&&(this.updateFlexibleSize(),this.initControlElement(),this.initIndicator(),this.initNavigation(),this.initExternalIndicators())}setActiveSlide(t,e=null){if(!this.navlock){let i=this.slides[this.activeSlideIndex],s=this.slides[t],a=e||(t-this.activeSlideIndex)/Math.abs(t-this.activeSlideIndex);if(!s)return;this.activeSlideIndex=t,this.navlock=!0,this.updateIndicator(),this.updateSlides(i,s,a),setTimeout((()=>{this.navlock=!1}),this.duration+500)}}updateIndicator(){if(this.indicatorElement){let t=this.indicatorElement.querySelectorAll("button");for(let e=0;e<t.length;e++){let i=t[e];i.classList.remove("active"),e===this.activeSlideIndex&&i.classList.add("active")}}if(v.externalIndicators[this.id])for(const t of v.externalIndicators[this.id]){let e=t.querySelectorAll("button");for(let t=0;t<e.length;t++){let i=e[t];i.classList.remove("active"),t===this.activeSlideIndex&&i.classList.add("active")}}}updateSlides(t,e,i=1){this.slides&&("none"!==this.transition&&("slide"===this.transition||"default"===this.transition?(""===t.style.transform&&(t.style.transform="translate3d(0, 0, 0)"),""===e.style.transform&&(e.style.transform=`translate3d(${100*i}%, 0, 0)`),t.animate([{transform:t.style.transform,opacity:t.style.opacity},{transform:`translate3d(${-100*i}%, 0, 0)`,opacity:.33}],{duration:this.duration,easing:this.easing}),e.animate([{transform:e.style.transform,opacity:e.style.opacity},{transform:"translate3d(0, 0, 0)",opacity:1}],{duration:this.duration,easing:this.easing}),setTimeout((()=>{t.style.transform="",t.style.opacity=.33,e.style.transform="translate3d(0, 0, 0)",e.style.opacity=1}),this.duration)):"fade"===this.transition&&(e.style.display="block",t.animate([{opacity:1},{opacity:0}],{duration:this.duration,easing:this.easing}),e.animate([{opacity:0},{opacity:1}],{duration:this.duration,easing:this.easing}),setTimeout((()=>{t.style.display="none",t.style.opacity=0,e.style.display="block",e.style.opacity=1}),this.duration))),setTimeout((()=>{for(let t=0;t<this.totalSlides;t++){let e=this.slides[t];e.classList.remove("active"),t===this.activeSlideIndex&&e.classList.add("active"),this.updateFlexibleSize()}}),this.duration))}back(){let t=this.activeSlideIndex-1;t<0&&(t=this.totalSlides-1),this.setActiveSlide(t,-1)}forward(){let t=this.activeSlideIndex+1;t>=this.totalSlides&&(t=0),this.setActiveSlide(t,1)}scroll(t){if("fade"===this.transition||"none"===this.transition)return;const e=this.element.getBoundingClientRect().width,i=Math.min(1,Math.abs(this.scrollAmount/e));if(!this.navlock){this.isScrolling&&window.clearTimeout(this.isScrolling),this.scrollAmount-=t,Math.abs(this.scrollAmount)>e&&(this.scrollAmount=Math.sign(this.scrollAmount)*e);let s,a=this.slides[this.activeSlideIndex];t>0?(s=this.activeSlideIndex+1<this.totalSlides?this.slides[this.activeSlideIndex+1]:this.slides[0],s.style.transform=`translate3d(calc(100% + ${this.scrollAmount}px), 0, 0)`):(s=this.activeSlideIndex-1<0?this.slides[this.slides.length-1]:this.slides[this.activeSlideIndex-1],s.style.transform=`translate3d(calc(${this.scrollAmount}px - 100%), 0, 0)`),a.style.transform=`translate3d(${this.scrollAmount}px, 0, 0)`,a.style.opacity=1-i,s.style.opacity=i,this.isScrolling=setTimeout((()=>{this.navlock=!0,this.scrollAmount<=-.3*e?(this.navlock=!1,this.forward()):this.scrollAmount>=.3*e?(this.navlock=!1,this.back()):(a.animate([{transform:a.style.transform,opacity:a.style.opacity},{transform:"translate3d(0, 0, 0)",opacity:1}],{duration:this.duration,easing:this.easing}),a.style.transform="translate3d(0, 0, 0)",a.style.opacity=1,t>0?(s.animate([{transform:s.style.transform,opacity:s.style.opacity},{transform:"translate3d(100%, 0, 0)",opacity:.33}],{duration:this.duration,easing:this.easing}),s.style.transform=""):(s.animate([{transform:s.style.transform,opacity:s.style.opacity},{transform:"translate3d(-100%, 0, 0)",opacity:.33}],{duration:this.duration,easing:this.easing}),s.style.transform=""),s.style.opacity=.33,this.navlock=!1),this.scrollAmount=0}),50)}}}window&&(window.Slider=v);class f{static isInitialized=!1;static defaultSelector="";static defaults={};static registry=[];static get totalInstances(){return this.registry.length}id;layout;justify;transition;duration;easing;rows;cols;minRows;minCols;align;autoplay;pages;element;#t;#e;#i;#s;#a;#n;#l;#o;get#r(){return this.rows*this.cols}get size(){return{width:this.element.getBoundingClientRect().width,height:this.element.getBoundingClientRect().height}}set activeIndex(t){this.element.dataset.active=t}get activeIndex(){return parseInt(this.element.dataset.active)}static init(t=null,e=null){this.initDefaults();for(let i of document.querySelectorAll(t||this.defaultSelector))this.register(new this(this.totalInstances,i,e));this.isInitialized=!0}static initDefaults(){this.defaultSelector='[data-component="stack"]',this.defaults.id="stack-",this.defaults.layout="list",this.defaults.justify="start",this.defaults.transition="slide",this.defaults.duration=300,this.defaults.easing="ease-out",this.defaults.rows=1,this.defaults.cols=1,this.defaults.minRows=1,this.defaults.minCols=1,this.defaults.align="start",this.defaults.autoplay=0,this.defaults.activeIndex=0}static register(t){this.registry.push(t)}constructor(t,e,i=null){const s=this.constructor,a=i||e.dataset;this.element=e,this.pages=[],this.id=e.id?e.id:s.defaults.id+s.totalInstances,this.layout=a.layout?a.layout:s.defaults.layout,this.justify=a.justify?a.justify:s.defaults.justify,this.transition=a.transition?a.transition:s.defaults.transition,this.duration=a.duration?a.duration:s.defaults.duration,this.easing=a.easing?a.easing:s.defaults.easing,this.activeIndex=a.active?a.active:s.defaults.activeIndex,this.rows=a.rows?parseInt(a.rows):s.defaults.rows,this.cols=a.cols?parseInt(a.cols):s.defaults.cols,this.minRows=a.minRows?parseInt(a.minRows):s.defaults.minRows,this.minCols=a.minCols?parseInt(a.minCols):s.defaults.minCols,this.align=a.align?a.align:s.defaults.align,this.autoplay=a.autoplay?a.autoplay:s.defaults.autoplay,this.element.id=this.id,this.configure()}configure(){this.initPages(),this.initControls(),this.initExternalControls()}initPages(){if(!this.#e){const t=this.element.querySelector(".pages");t?this.#e=t:(this.#e=document.createElement("div"),this.#e.classList.add("pages"),this.element.appendChild(this.#e))}this.#e.innerHTML="";let t=this.element.querySelectorAll(".item"),e=0,i=0;for(let s of t){if(i+(s.dataset.colspan?parseInt(s.dataset.colspan):1)>this.cols&&(e++,i=0),!this.pages[e]){let t=document.createElement("div");t.classList.add("page"),e===this.activeIndex&&t.classList.add("active"),this.#e.appendChild(t),this.pages.push(t)}this.pages[e].appendChild(s),i+=this.cols}this.#t||(this.#t=this.pages[0].getBoundingClientRect().width);for(let t=0;t<this.pages.length;t++){let e=this.pages[t],i=this.calculatePagePosition(t);e.style.transform=`translate3d(${i.x}px, ${i.y}px, ${i.z}px)`,e.style.zIndex=this.calculatePageZIndex(t)}if("stack"===this.layout)for(var s=0;s<this.pages.length;s++){let t=this.pages[s],e=s,i=t.querySelector(".item"),a=t.querySelector(".overlay-nav");a||(a=document.createElement("div"),a.classList.add("overlay-nav"),i&&i.appendChild(a)),a.addEventListener("click",(()=>{this.goToPage(e)}))}}calculatePagePosition(t){this.pages[t];let e=0,i=0,s=0;return"center"===this.align&&(e=(this.size.width-this.#t)/2),"list"===this.layout?i=e+(t-this.activeIndex)*this.#t:"stack"===this.layout&&(i=e+(t-this.activeIndex)*this.#t-240*(t-this.activeIndex),s=-1*Math.abs(50*(t-this.activeIndex))),{x:i,y:0,z:s}}calculatePageZIndex(t){return t===this.activeIndex?7001:7e3-Math.abs(t-this.activeIndex)}initControls(){if(!this.#i){const t=this.element.querySelector(".control");t?this.#i=t:(this.#i=document.createElement("div"),this.#i.classList.add("control"),this.element.appendChild(this.#i))}if(!this.#a){const t=this.element.querySelector(".indicator");t?this.#a=t:(this.#a=document.createElement("div"),this.#a.classList.add("indicator"),this.#i.appendChild(this.#a))}if(!this.#s){const t=this.element.querySelector(".navigation");t?this.#s=t:(this.#s=document.createElement("div"),this.#s.classList.add("navigation"),this.#i.appendChild(this.#s))}this.#a.innerHTML="";for(let t=0;t<this.pages.length;t++){let e=document.createElement("button");e.dataset.target=t,t===this.activeIndex&&e.classList.add("active"),e.addEventListener("click",(()=>{this.goToPage(t)})),this.#a.appendChild(e)}this.#s.innerHTML="";let t=document.createElement("button");t.dataset.nav="prev",this.#s.appendChild(t),t.addEventListener("click",(()=>{this.goToPage(this.activeIndex-1,-1)}));let e=document.createElement("button");e.dataset.nav="next",this.#s.appendChild(e),e.addEventListener("click",(()=>{this.goToPage(this.activeIndex+1,-1)}))}initExternalControls(){this.#o||(this.#o=document.querySelectorAll(`[data-indicator="${this.id}"]`));for(var t=0;t<this.#o.length;t++){let e=this.#o[t];e.innerHTML="",this.#a.innerHTML="";for(let t=0;t<this.pages.length;t++){let i=document.createElement("button");i.dataset.target=t,t===this.activeIndex&&i.classList.add("active"),i.addEventListener("click",(()=>{this.goToPage(t)})),e.appendChild(i)}}}goToPage(t,e=1){let i=t;t<0?i=this.pages.length-1:t>=this.pages.length&&(i=0);let s=this.activeIndex;this.pages[i]&&(this.activeIndex=i,this.updateIndicators(),this.updateExternalIndicators(),this.updatePages(s,i,e))}updateIndicators(){let t=this.#a.querySelectorAll("button");for(let e=0;e<t.length;e++){let i=t[e];i.classList.remove("active"),e===this.activeIndex&&i.classList.add("active")}}updateExternalIndicators(){if(this.#o)for(let t of this.#o){let e=t.querySelectorAll("button");for(let t=0;t<e.length;t++){let i=e[t];i.classList.remove("active"),t===this.activeIndex&&i.classList.add("active")}}}updatePages(t,e,i=1){for(let t=0;t<this.pages.length;t++){let i=this.pages[t],s=this.calculatePagePosition(t),a=`translate3d(${s.x}px, ${s.y}px, ${s.z}px)`;i.classList.remove("active"),t===e&&i.classList.add("active"),"slide"===this.transition&&i.animate([{transform:i.style.transform},{transform:a}],{duration:this.duration,easing:this.easing}),i.style.transform=a,i.style.zIndex=this.calculatePageZIndex(t)}}}window&&(window.Stack=f);class E{static isInitialized=!1;static defaultSelector="";static defaults={};static registry=[];static get totalInstances(){return this.registry.length}id;activeIndex;transition;duration;easing;pages;element;#d;#h;#c;set activeIndex(t){this.element.dataset.active=t}get activeIndex(){return parseInt(this.element.dataset.active)}get activePage(){return this.pages[this.activeIndex]}static init(t=null,e=null){this.initDefaults();for(let i of document.querySelectorAll(t||this.defaultSelector))new this(this.totalInstances,i,e);this.isInitialized=!0}static initDefaults(){this.defaultSelector='[data-component="tab"]',this.defaults.id="tab-",this.defaults.transition="fade",this.defaults.duration=300,this.defaults.easing="ease-out",this.defaults.activeIndex=0}static register(t){this.registry.push(t)}static getById(t){return this.registry.find((e=>e.id===t))}constructor(t,e,i=null){const s=this.constructor,a=i||e.dataset;this.element=e,this.id=e.id?e.id:s.defaults.id+s.totalInstances,this.transition=a.transition?a.transition:s.defaults.transition,this.duration=a.duration?a.duration:s.defaults.duration,this.easing=a.easing?a.easing:s.defaults.easing,this.activeIndex=a.active?a.active:s.defaults.activeIndex,this.element.id=this.id,this.pages=[],this.#c=[],E.register(this),this.configure()}configure(){this.initPages(),this.initNav(),this.initExternalNav()}initPages(){if(this.#h||(this.#h=this.element.querySelector(".tab-pages")),!this.#h)return;let t=this.#h.querySelectorAll(".tab-page");for(let e=0;e<t.length;e++){let i=new y(this.id,e,t[e]);this.pages.push(i)}}initNav(){if(this.#d||(this.#d=this.element.querySelector(".tab-nav")),!this.#d)return;let t=this.#d.querySelectorAll("button");for(let e=0;e<t.length;e++){let i=new x(this.id,e,t[e]);this.#c.push(i)}}initExternalNav(){let t=document.querySelectorAll(`[data-tab-nav="${this.id}"]`);for(var e of t){let t=e.querySelectorAll("button");for(let e=0;e<t.length;e++){let i=new x(this.id,e,t[e]);this.#c.push(i)}}}goToPage(t,e=1){if(t===this.activeIndex)return;let i=this.pages[t];if(i){i.activate(),this.activePage.deactivate(),this.activeIndex=t;for(let t of this.#c)t.refresh()}}}window&&(window.Tab=E);class y{element;tabId;index;get tab(){return E.getById(this.tabId)}get isActive(){return this.element.classList.contains("active")}constructor(t,e,i){this.tabId=t,this.index=e,this.element=i,this.refresh()}refresh(){this.tab.activeIndex===this.index?this.activate():this.deactivate()}activate(){this.element.classList.add("active")}deactivate(){this.element.classList.remove("active")}}class x{element;tabId;targetIndex;get tab(){return E.getById(this.tabId)}get isActive(){return this.element.classList.contains("active")}constructor(t,e,i){this.tabId=t,this.targetIndex=e,this.element=i,this.element.addEventListener("click",(()=>{this.tab.goToPage(this.targetIndex)})),this.refresh()}refresh(){this.tab.activeIndex===this.targetIndex?this.activate():this.deactivate()}activate(){this.element.classList.add("active")}deactivate(){this.element.classList.remove("active")}}class I{static index;element;id;targetImage;containerElement;tagPoints;get imageDimension(){return this.targetImage.getBoundingClientRect()}static init(){this.index=[];let t=document.querySelectorAll(".tagger");for(let e=0;e<t.length;e++){let i=t[e];this.index.push(new this(e,i))}window.addEventListener("resize",(()=>{this.resizeListener()}))}static getById(t){return this.index.find((e=>e.id===t))}static resizeListener(){for(const t of this.index)t.repositionTags()}constructor(t,e){this.element=e,this.id=this.element.id?this.element.id:`tagger-${t}`,this.element.id=this.id,this.targetImage=this.element.querySelector(".image > img"),this.initTagPoints()}initTagPoints(){this.tagPoints=[],this.containerElement=document.createElement("div"),this.containerElement.classList.add("tag-points"),this.element.appendChild(this.containerElement);let t=this.element.querySelectorAll(".tags > .tag");for(let e=0;e<t.length;e++){let i=t[e];const s=i.dataset.label?i.dataset.label:"",a=i.dataset.x?parseFloat(i.dataset.x):0,n=i.dataset.y?parseFloat(i.dataset.y):0;let l=new L(this,e,s,a,n);if(this.containerElement.appendChild(l.element),this.tagPoints.push(l),i.dataset.click){const t=i.querySelector("div")?i.querySelector("div"):null;l.element.addEventListener("click",(()=>{window[i.dataset.click]({taggerId:this.id,index:e,content:t})}))}}}repositionTags(){for(const t of this.tagPoints)t.setPosition()}}class L{tagger;element;index;label;x;y;constructor(t,e,i,s,a){this.tagger=t,this.index=e,this.label=i,this.x=s,this.y=a,this.element=document.createElement("div"),this.element.classList.add("tag-point"),this.element.dataset.tagger=this.tagger.id,this.element.dataset.index=this.index,this.element.dataset.label=this.label,this.element.dataset.x=this.x,this.element.dataset.y=this.y,this.setPosition()}setPosition(){const t=this.tagger.targetImage.clientWidth*this.x,e=this.tagger.targetImage.clientHeight*this.y;this.element.style.left=t+"px",this.element.style.top=e+"px"}}return window&&(window.Tagger=I),e})()}));
//# sourceMappingURL=virgo.bundle.min.js.map