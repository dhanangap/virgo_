export default class Rating{static isInitialized=!1;static defaultSelector="";static defaults={};static registry=[];id;rating;ratio;step;element;get value(){return this.rating/this.ratio}static init(t=null){this.isInitialized||this.initDefaults();var i=document.querySelectorAll(t||this.defaultSelector);for(let t=0;t<i.length;t++){var e=i[t];this.register(new this(t,e))}}static initDefaults(){this.defaultSelector='[data-component="rating"]',this.defaults.id="rating-",this.defaults.rating=0,this.defaults.ratio=10,this.defaults.step=.1,this.isInitialized=!0}static register(t){this.registry.push(t)}constructor(t,i,e=null){const s=this.constructor;e=e||i.dataset;s.isInitialized||s.initDefaults(),this.id=i.id||s.defaults.id+t,this.rating=e.rating?parseFloat(e.rating):s.defaults.rating,this.ratio=e.ratio?parseInt(e.ratio):s.defaults.ratio,this.step=e.step?parseFloat(e.step):s.defaults.step,this.element=i,this.initRating()}initRating(){this.element.innerHTML="";for(let e=1;e<=this.ratio;e++){let t=document.createElement("button"),i=document.createElement("div");i.classList.add("fill"),t.appendChild(i),this.element.appendChild(t),Math.floor(this.rating)>=e?i.style.width="100%":Math.ceil(this.rating)==e&&(i.style.width=100*(Math.ceil(this.rating)-this.rating)+"%")}}}window&&(window.Rating=Rating);